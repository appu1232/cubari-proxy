(this["webpackJsonpcubari-proxy"]=this["webpackJsonpcubari-proxy"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t),a.d(t,"MangakakalotInfo",(function(){return v})),a.d(t,"Mangakakalot",(function(){return m}));var r=a(2),n=a.n(r),A=a(3),c=a(6),i=a(9),s=a(8),o=a(7),u=a(5),l=a(16),d=a(37),p="https://mangakakalot.com",h="https://manganelo.com",f="GET",g={Referer:h,"content-type":"application/x-www-form-urlencoded"},v={version:"2.0.4",name:"Mangakakalot",icon:"mangakakalot.com.png",author:"getBoolean",authorWebsite:"https://github.com/getBoolean",description:"Extension that pulls manga from Mangakakalot",hentaiSource:!1,websiteBaseURL:p,sourceTags:[{text:"Notifications",type:u.TagType.GREEN}]},m=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(e,"/")}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A,c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(t.indexOf("/",t.indexOf("/")+2),t.length),r=t.replace(a,""),A=createRequestObject({url:"".concat(r,"/"),method:f,param:a}),e.next=5,this.requestManager.schedule(A,1);case 5:if(c=e.sent,i=this.cheerio.load(c.data),!t.toLowerCase().includes("mangakakalot")){e.next=11;break}return e.abrupt("return",Object(l.parseMangakakalotMangaDetails)(i,t));case 11:return e.abrupt("return",Object(d.parseManganeloMangaDetails)(i,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A,c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(t.indexOf("/",t.indexOf("/")+2),t.length),r=t.replace(a,""),A=createRequestObject({url:"".concat(r,"/"),method:f,param:a}),e.next=5,this.requestManager.schedule(A,1);case 5:if(c=e.sent,i=this.cheerio.load(c.data),!t.toLowerCase().includes("mangakakalot")){e.next=11;break}return e.abrupt("return",Object(l.parseMangakakalotChapters)(i,t));case 11:return e.abrupt("return",Object(d.parseManganeloChapters)(i,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.toLowerCase().includes("manganelo")?createRequestObject({url:"".concat(a),method:f,headers:{Referer:h,"content-type":"application/x-www-form-urlencoded",Cookie:"content_lazyload=off"}}):createRequestObject({url:"".concat(a),method:f,headers:{"content-type":"application/x-www-form-urlencoded",Cookie:"content_lazyload=off"}}),e.next=3,this.requestManager.schedule(r,1);case 3:if(A=e.sent,c=this.cheerio.load(A.data),!t.toLowerCase().includes("mangakakalot")){e.next=9;break}return e.abrupt("return",Object(l.parseMangakakalotChapterDetails)(c,t,a));case 9:return e.abrupt("return",Object(d.parseManganeloChapterDetails)(c,t,a));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(createMangaUpdates({ids:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A,c,i,s,o,u,d,h,f,g,v,m,b,x,j;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular_manga",title:"POPULAR MANGA"}),r=createHomeSection({id:"latest_updates",title:"LATEST MANGA RELEASES",view_more:!0}),A=createHomeSection({id:"hot_manga",title:"HOT MANGA",view_more:!0}),c=createHomeSection({id:"new_manga",title:"NEW MANGA",view_more:!0}),i=createHomeSection({id:"zcompleted_manga",title:"COMPLETED MANGA",view_more:!0}),s=createRequestObject({url:"".concat(p),method:"GET"}),o=createRequestObject({url:"".concat(p,"/manga_list?type=topview&category=all&state=all&page="),method:"GET"}),u=createRequestObject({url:"".concat(p,"/manga_list?type=newest&category=all&state=all&page="),method:"GET"}),d=createRequestObject({url:"".concat(p,"/manga_list?type=newest&category=all&state=Completed&page="),method:"GET"}),e.next=11,this.requestManager.schedule(s,1);case 11:return h=e.sent,f=this.cheerio.load(h.data),e.next=15,this.requestManager.schedule(o,1);case 15:return g=e.sent,v=this.cheerio.load(g.data),e.next=19,this.requestManager.schedule(u,1);case 19:return m=e.sent,b=this.cheerio.load(m.data),e.next=23,this.requestManager.schedule(d,1);case 23:x=e.sent,j=this.cheerio.load(x.data),Object(l.parseHomeSections)(f,[a,r],t),Object(l.parseMangaSectionTiles)(v,[A],t),Object(l.parseMangaSectionTiles)(b,[c],t),Object(l.parseMangaSectionTiles)(j,[i],t);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c,i,s,o,u,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===(A=a)||void 0===A?void 0:A.page)&&void 0!==r?r:1,i=Object(l.generateSearch)(t),s=createRequestObject({url:"".concat(p,"/search/story/"),method:f,headers:g,param:"".concat(i,"?page=").concat(c)}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),d=Object(l.parseSearch)(u),a=Object(l.isLastPage)(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:d,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(A.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:p,method:f,headers:g}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",Object(l.parseTags)(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c,i,s,o,u,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===(A=a)||void 0===A?void 0:A.page)&&void 0!==r?r:1,i="",e.t0=t,e.next="latest_updates"===e.t0?5:"hot_manga"===e.t0?7:"new_manga"===e.t0?9:"zcompleted_manga"===e.t0?11:13;break;case 5:return i="/manga_list?type=latest&category=all&state=all&page=".concat(c),e.abrupt("break",14);case 7:return i="/manga_list?type=topview&category=all&state=all&page=".concat(c),e.abrupt("break",14);case 9:return i="/manga_list?type=newest&category=all&state=all&page=".concat(c),e.abrupt("break",14);case 11:return i="/manga_list?type=newest&category=all&state=Completed&page=".concat(c),e.abrupt("break",14);case 13:return e.abrupt("return",Promise.resolve(null));case 14:return s=createRequestObject({url:p,method:f,param:i}),e.next=17,this.requestManager.schedule(s,1);case 17:return o=e.sent,u=this.cheerio.load(o.data),d=Object(l.parseViewMore)(u),a=Object(l.isLastPage)(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:d,metadata:a}));case 22:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"globalRequestHeaders",value:function(){var e=Object(A.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{referer:h});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(u.Source)},114:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t),a.d(t,"parseMangakakalotMangaDetails",(function(){return A})),a.d(t,"parseMangakakalotChapters",(function(){return c})),a.d(t,"parseMangakakalotChapterDetails",(function(){return i})),a.d(t,"parseHomeSections",(function(){return s})),a.d(t,"parseMangaSectionTiles",(function(){return o})),a.d(t,"generateSearch",(function(){return l})),a.d(t,"parseSearch",(function(){return d})),a.d(t,"parseTags",(function(){return p})),a.d(t,"parseViewMore",(function(){return h})),a.d(t,"isLastPage",(function(){return f}));var r=a(4),n=a(5),A=function(e,t){var a,A,c,i,s=e(".manga-info-top"),o=null!==(a=e("h1",s).first().text())&&void 0!==a?a:"",u=null!==(A=e(".manga-info-pic",s).children().first().attr("src"))&&void 0!==A?A:"",l=e(".manga-info-text",s),d="",p=e(".manga-info-text li:nth-child(2)").text().replace("Author(s) :","").replace(/\r?\n|\r/g,"").split(", ");p[p.length-1]=null===(c=p[p.length-1])||void 0===c?void 0:c.replace(", ",""),i=p[0],p.length>1&&" "!=e(p[1]).text()&&(d=p[1]);var h=Number(e("#rate_row_cmd",l).text().replace("Mangakakalot.com rate : ","").slice(e("#rate_row_cmd",l).text().indexOf("Mangakakalot.com rate : "),e("#rate_row_cmd",l).text().indexOf(" / 5"))),f="Ongoing"==e(".manga-info-text li:nth-child(3)").text().split(" ").pop()?n.MangaStatus.ONGOING:n.MangaStatus.COMPLETED,g=[o],v=Number(e("#rate_row_cmd",l).text().replace(" votes","").split(" ").pop()),m=Number(e(".manga-info-text li:nth-child(6)").text().replace(/,/g,"").replace("View : ","")),b=[createTagSection({id:"0",label:"genres",tags:[]})],x=e(".manga-info-text li:nth-child(7)").find("a").toArray(),j=[];j=Array.from(x,(function(t){return e(t).text()})),b[0].tags=j.map((function(e){return createTag({id:e,label:e})})),!j.includes("Adult")&&j.includes("Smut");var y,O=Object(r.a)(e("li",l).toArray());try{for(O.s();!(y=O.n()).done;){var w=y.value;if(e(w).find(".story-alternative").length>0){var k,S=e("h2",l).text().replace("Alternative : ","").split(/,|;/),M=Object(r.a)(S);try{for(M.s();!(k=M.n()).done;){var N=k.value;g.push(N.trim())}}catch(C){M.e(C)}finally{M.f()}}}}catch(C){O.e(C)}finally{O.f()}var D=new Date(e(".manga-info-text li:nth-child(4)").text().replace(/((AM)*(PM)*)/g,"").replace("Last updated : ","")).toDateString(),T=e("#noidungm",e(".leftCol")).clone().children().remove().end().text().replace(/^\s+|\s+$/g,"");return createManga({id:t,titles:g,image:u,rating:Number(h),status:f,artist:d,author:i,tags:b,views:m,follows:v,lastUpdate:D,desc:T,hentai:!1})},c=function(e,t){var a,A=e(".chapter-list",".leftCol"),c=[],i=Object(r.a)(e(".row",A).toArray());try{for(i.s();!(a=i.n()).done;){var s,o,u,l=a.value,d=null!==(s=e("a",l).attr("href"))&&void 0!==s?s:"",p=null!==(o=e("a",l).text())&&void 0!==o?o:"",h=Number(d.split("_").pop()),f=new Date(null!==(u=e("span:nth-child(3)",l).attr("title"))&&void 0!==u?u:"");c.push(createChapter({id:d,mangaId:t,name:p,langCode:n.LanguageCode.ENGLISH,chapNum:h,time:f}))}}catch(g){i.e(g)}finally{i.f()}return c},i=function(e,t,a){var n,A=[],c=e("img",".container-chapter-reader").toArray(),i=Object(r.a)(c);try{for(i.s();!(n=i.n()).done;){var s=e(n.value).attr("src");"undefined"!==typeof s&&A.push(s)}}catch(o){i.e(o)}finally{i.f()}return createChapterDetails({id:a,mangaId:t,pages:A,longStrip:!1})},s=function(e,t,a){var n,A=Object(r.a)(t);try{for(A.s();!(n=A.n()).done;){a(n.value)}}catch(y){A.e(y)}finally{A.f()}var c,i=[],s=[],o=Object(r.a)(e(".item",".owl-carousel").toArray());try{for(o.s();!(c=o.n()).done;){var u=c.value,l=e("a",u).first().attr("href"),d=e("img",u).attr("src"),p=e("div.slide-caption",u).children().first().text(),h=e("div.slide-caption",u).children().last().text();"undefined"!==typeof l&&"undefined"!==typeof d&&i.push(createMangaTile({id:l,image:d,title:createIconText({text:p}),subtitleText:createIconText({text:h})}))}}catch(y){o.e(y)}finally{o.f()}var f,g=Object(r.a)(e(".first",".doreamon").toArray());try{for(g.s();!(f=g.n()).done;){var v=f.value,m=e("a",v).first().attr("href"),b=e("img",v).attr("src");"undefined"!==typeof m&&"undefined"!==typeof b&&s.push(createMangaTile({id:m,image:b,title:createIconText({text:e("h3",v).text()}),subtitleText:createIconText({text:e(".sts_1",v).first().text()})}))}}catch(y){g.e(y)}finally{g.f()}t[0].items=i,t[1].items=s;var x,j=Object(r.a)(t);try{for(j.s();!(x=j.n()).done;){a(x.value)}}catch(y){j.e(y)}finally{j.f()}},o=function(e,t,a){var n,A=Object(r.a)(t);try{for(A.s();!(n=A.n()).done;){a(n.value)}}catch(s){A.e(s)}finally{A.f()}t[0].items=u(e);var c,i=Object(r.a)(t);try{for(i.s();!(c=i.n()).done;){a(c.value)}}catch(s){i.e(s)}finally{i.f()}},u=function(e){var t,a=[],n=e(".truyen-list"),A=Object(r.a)(e(".list-truyen-item-wrap",n).toArray());try{for(A.s();!(t=A.n()).done;){var c,i,s=t.value,o=e("a",s).first().attr("href"),u=e("img",s).first().attr("src"),l=null!==(c=e("a",s).first().attr("title"))&&void 0!==c?c:"",d=null!==(i=e(".list-story-item-wrap-chapter",s).attr("title"))&&void 0!==i?i:"";"undefined"!==typeof o&&"undefined"!==typeof u&&a.push(createMangaTile({id:o,image:u,title:createIconText({text:l}),subtitleText:createIconText({text:d})}))}}catch(p){A.e(p)}finally{A.f()}return a},l=function(e){var t,a,r=(null!==(t=e.title)&&void 0!==t?t:"").replace(/ /g,"_");return e.author&&(r+=(null!==(a=e.author)&&void 0!==a?a:"").replace(/ /g,"_")),"".concat(r)},d=function(e){var t,a=[],n=e(".panel_story_list"),A=e(".story_item",n).toArray(),c=Object(r.a)(A);try{for(c.s();!(t=c.n()).done;){var i,s,o=t.value,u=null!==(i=e("a",o).first().attr("href"))&&void 0!==i?i:"",l=e(".story_name",o).children().first().text(),d=e(".story_chapter",o).first().text().trim(),p=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",h=new Date(e(".story_item_right span:nth-child(5)",o).text().replace(/((AM)*(PM)*)/g,"").replace("Updated : ","")).toDateString();a.push(createMangaTile({id:u,image:p,title:createIconText({text:l}),subtitleText:createIconText({text:d}),secondaryText:createIconText({text:h,icon:"clock.fill"})}))}}catch(f){c.e(f)}finally{c.f()}return a},p=function(e){var t,a=e(".panel-category").find("a").clone().remove(".ctg-select").toArray(),n=createTagSection({id:"genre",label:"Genre",tags:[]}),A=Object(r.a)(a);try{for(A.s();!(t=A.n()).done;){var c=e(t.value).text();n.tags.push(createTag({id:c,label:c}))}}catch(i){A.e(i)}finally{A.f()}return[n]},h=function(e){return u(e)},f=function(e){var t,a=e(".page_select").text(),r=e(".page_last").text();return!a||+(r=(null!==(t=/(\d+)/g.exec(r))&&void 0!==t?t:[""])[0])===+a}},18:function(e,t,a){"use strict";a.r(t),a.d(t,"parseMangaDetails",(function(){return A})),a.d(t,"parseChapters",(function(){return c})),a.d(t,"parseChapterDetails",(function(){return i})),a.d(t,"parseTags",(function(){return s})),a.d(t,"parseUpdatedManga",(function(){return o})),a.d(t,"parseHomeSections",(function(){return u})),a.d(t,"generateSearch",(function(){return l})),a.d(t,"parseSearch",(function(){return d})),a.d(t,"parseViewMore",(function(){return p})),a.d(t,"isLastPage",(function(){return h}));var r=a(4),n=a(5),A=function(e,t){var a,A=[];A.push(e("h1.heading").first().text().trim());var c,i=e("div.alt_name").text().split(";"),s=Object(r.a)(i);try{for(s.s();!(c=s.n()).done;){var o=c.value;A.push(o.trim())}}catch(w){s.e(w)}finally{s.f()}var u,l=null!==(a=e("div.media div.cover img").attr("src"))&&void 0!==a?a:"",d=e(".author").text().trim(),p=e(".summary > p").text().trim(),h=[],f=Object(r.a)(e(".genres > a").toArray());try{for(f.s();!(u=f.n()).done;){var g,v,m=u.value,b=e(m).text().trim(),x=null!==(g=null===(v=e(m).attr("href"))||void 0===v?void 0:v.split("genre/")[1])&&void 0!==g?g:"";["ADULT","SMUT","MATURE"].includes(b.toUpperCase())&&!0,h.push({id:x,label:b})}}catch(w){f.e(w)}finally{f.f()}var j=[createTagSection({id:"0",label:"genres",tags:h.map((function(e){return createTag(e)}))})],y=e(".value.status").text().trim(),O=n.MangaStatus.ONGOING;switch(y.toUpperCase()){case"ONGOING":O=n.MangaStatus.ONGOING;break;case"COMPLETED":O=n.MangaStatus.COMPLETED;break;default:O=n.MangaStatus.ONGOING}return createManga({id:t,titles:A,image:l,rating:0,status:O,author:d,artist:"",tags:j,desc:p,hentai:!1})},c=function(e,t){var a,A=[],c=new RegExp("c([0-9.]+)"),i=Object(r.a)(e("tr:has(.chapter)").toArray());try{for(i.s();!(a=i.n()).done;){var s,o,u,l=a.value,d=e("a",l).text(),p=new Date(null!==(s=e(".update_time",l).text())&&void 0!==s?s:""),h=null!==(o=null===(u=e("a",l).attr("href"))||void 0===u?void 0:u.split("/").pop())&&void 0!==o?o:"",f=Number("0"+h.match(c)[1]);A.push(createChapter({id:h,mangaId:t,name:d,langCode:n.LanguageCode.ENGLISH,chapNum:isNaN(f)?0:f,time:p}))}}catch(g){i.e(g)}finally{i.f()}return A},i=function(e,t,a){var n,A=[],c=RegExp("var ytaw=\\[([^\\[]*)]"),i=Object(r.a)(e("script").toArray());try{for(i.s();!(n=i.n()).done;){var s,o=null===(s=n.value.children[0])||void 0===s?void 0:s.data;if("undefined"!==typeof o&&o.includes("var ytaw=")){var u,l=o.match(c)[1].replace(/''?/g,"").split(","),d=Object(r.a)(l);try{for(d.s();!(u=d.n()).done;){var p=u.value;""!=p&&A.push(p)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){i.e(h)}finally{i.f()}return createChapterDetails({id:a,mangaId:t,pages:A,longStrip:!1})},s=function(e){var t,a=[createTagSection({id:"0",label:"genres",tags:[]})],n=Object(r.a)(e(".wrap_item").toArray());try{for(n.s();!(t=n.n()).done;){var A,c,i=t.value,s=e("a",i).first().text().trim(),o=null!==(A=null===(c=e("a",i).attr("href"))||void 0===c?void 0:c.split("genre/")[1])&&void 0!==A?A:"";a[0].tags.push(createTag({id:o,label:s}))}}catch(u){n.e(u)}finally{n.f()}return a},o=function(e,t,a){var n,A=[],c=!0,i=Object(r.a)(e("div.item","div#book_list").toArray());try{for(i.s();!(n=i.n()).done;){var s,o,u=n.value,l=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"";new Date(e(".update_time",u).first().text())>t?a.includes(l)&&A.push(l):c=!1}}catch(d){i.e(d)}finally{i.f()}return{ids:A,loadMore:c}},u=function(e,t,a){var n,A=Object(r.a)(t);try{for(A.s();!(n=A.n()).done;){a(n.value)}}catch(G){A.e(G)}finally{A.f()}var c,i=[],s=Object(r.a)(e("div.item","div#hot_update").toArray());try{for(s.s();!(c=s.n()).done;){var o,u,l,d=c.value,p=e(".title",d).text().trim(),h=null!==(o=null===(u=e("a",d).attr("href"))||void 0===u?void 0:u.split("/").pop())&&void 0!==o?o:"",f=null!==(l=e("img",d).first().attr("src"))&&void 0!==l?l:"",g=e(".chapter",d).first().text().trim();h&&p&&i.push(createMangaTile({id:h,image:f,title:createIconText({text:p}),subtitleText:createIconText({text:g})}))}}catch(G){s.e(G)}finally{s.f()}t[0].items=i,a(t[0]);var v,m=[],b=Object(r.a)(e("div.item","div#hot_book").toArray());try{for(b.s();!(v=b.n()).done;){var x,j,y,O=v.value,w=e(".title",O).text().trim(),k=null!==(x=null===(j=e("a",O).attr("href"))||void 0===j?void 0:j.split("/").pop())&&void 0!==x?x:"",S=null!==(y=e("img",O).attr("data-src"))&&void 0!==y?y:"",M=e(".chapter",O).first().text().trim();k&&w&&m.push(createMangaTile({id:k,image:S,title:createIconText({text:w}),subtitleText:createIconText({text:M})}))}}catch(G){b.e(G)}finally{b.f()}t[1].items=m,a(t[1]);var N,D=[],T=Object(r.a)(e("div.item","div#book_list").toArray());try{for(T.s();!(N=T.n()).done;){var C,E,R,I=N.value,B=e(".title",I).text().trim(),L=null!==(C=null===(E=e("a",I).attr("href"))||void 0===E?void 0:E.split("/").pop())&&void 0!==C?C:"",H=null!==(R=e("img",I).first().attr("src"))&&void 0!==R?R:"",P=e(".chapter",I).first().text().trim();L&&B&&D.push(createMangaTile({id:L,image:H,title:createIconText({text:B}),subtitleText:createIconText({text:P})}))}}catch(G){T.e(G)}finally{T.f()}t[2].items=D,a(t[2]);var U,q=Object(r.a)(t);try{for(q.s();!(U=q.n()).done;){a(U.value)}}catch(G){q.e(G)}finally{q.f()}},l=function(e){var t,a=null!==(t=e.title)&&void 0!==t?t:"";return encodeURI(a)},d=function(e){var t,a=[],n=[];if(null===(t=e('meta[property="og:url"]').attr("content"))||void 0===t?void 0:t.includes("/manga/")){var A,c,i,s,o,u=null!==(A=e("h1.heading").first().text().trim())&&void 0!==A?A:"",l=null!==(c=null===(i=e("meta[property$=url]").attr("content"))||void 0===i||null===(s=i.split("/"))||void 0===s?void 0:s.pop())&&void 0!==c?c:"",d=null!==(o=e("div.media div.cover img").attr("src"))&&void 0!==o?o:"";!n.includes(l)&&l&&u&&(a.push(createMangaTile({id:l,image:d,title:createIconText({text:u})})),n.push(l))}else{var p,h=Object(r.a)(e("div.item","#book_list").toArray());try{for(h.s();!(p=h.n()).done;){var f,g,v,m=p.value,b=e(".title a",m).text().trim(),x=null!==(f=null===(g=e("a",m).attr("href"))||void 0===g?void 0:g.split("/").pop())&&void 0!==f?f:"",j=null!==(v=e("img",m).attr("src"))&&void 0!==v?v:"",y=e(".chapter",m).first().text().trim();!n.includes(x)&&x&&b&&(a.push(createMangaTile({id:x,image:j,title:createIconText({text:b}),subtitleText:createIconText({text:y})})),n.push(x))}}catch(O){h.e(O)}finally{h.f()}}return a},p=function(e,t){var a,n=[],A=Object(r.a)(e("div.item","div#book_list").toArray());try{for(A.s();!(a=A.n()).done;){var c,i,s,o=a.value,u=e(".title a",o).text().trim(),l=null!==(c=null===(i=e("a",o).attr("href"))||void 0===i?void 0:i.split("/").pop())&&void 0!==c?c:"",d=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",p=e(".chapter",o).first().text().trim();l&&u&&n.push(createMangaTile({id:l,image:d,title:createIconText({text:u}),subtitleText:createIconText({text:p})}))}}catch(h){A.e(h)}finally{A.f()}return n},h=function(e){var t=!0;return Boolean(e("a.next.page-numbers","ul.uk-pagination").text())&&(t=!1),t}},230:function(e,t,a){var r={"./CubariSource":31,"./CubariSource.ts":31,"./Guya/Guya":43,"./Guya/Guya.ts":43,"./Guya/includes/icon.png":231,"./MangaDex/MangaDex":44,"./MangaDex/MangaDex.ts":44,"./MangaDex/includes/icon.png":232,"./MangaKatana/MangaKatana":36,"./MangaKatana/MangaKatana.ts":36,"./MangaKatana/MangaKatanaParser":18,"./MangaKatana/MangaKatanaParser.ts":18,"./MangaKatana/includes/icon.png":233,"./MangaLife/MangaLife":45,"./MangaLife/MangaLife.ts":45,"./MangaLife/MangaLifeParsing":24,"./MangaLife/MangaLifeParsing.ts":24,"./MangaLife/includes/icon.png":234,"./Mangakakalot/Mangakakalot":105,"./Mangakakalot/Mangakakalot.ts":105,"./Mangakakalot/MangakakalotParser":16,"./Mangakakalot/MangakakalotParser.ts":16,"./Mangakakalot/ManganeloParser":37,"./Mangakakalot/ManganeloParser.ts":37,"./Mangakakalot/includes/mangakakalot.com.png":235,"./NHentai/NHentai":42,"./NHentai/NHentai.ts":42,"./NHentai/includes/logo.png":236,"./sourcemap":26,"./sourcemap.js":26};function n(e){var t=A(e);return a(t)}function A(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=A,e.exports=n,n.id=230},231:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/icon.e935e6e4.png"},232:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/icon.c8b8c115.png"},233:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAQK0lEQVRYCQEgEN/vARup4v8DAQEAAgEAAAIBAAADAQEAAgEAAAIAAAADAgEAAgAAAAMBAAACAQAAAgEBAAMBAAACAQAAAgEBAAMBAAACAAAAAwIBAAIAAAACAQAAAwEAAAIBAQACAQAAAwEAAAIBAQADAQAAAgEAAAIAAAADAQEAAgEAAAIBAADR7voABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM/t+gDP7voABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0O76ANDu+gAAAAAAAgAAAf0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADR7/oA0O76AAAAAAAAAAD7Avz5BQ///wGhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANPv+wDR7voAAAAAAAAAAIEA8/wNAQAAAAAAqv8DIAHj5AIBARgDAQEAAgEAAAIAAAADAgEAAgAAAAMBAAACAQAAAgEBAAMBAAACAQAAAgEBAAMBAAACAAAAAwIBAAIAAAACAQAAAwEAAAIBAQACAQAAAwEAAAIBAQADAQAA1vD7ANPv+gAAAAAAAAAAygBhITcAAAAAAgAAAAAAVgH9/wAB7QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV8PsA0+/6AAAAAAAAAAAAAAAA5wAAAAAAAAAAAgAAAAAdq+Y9AAEAJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANbw+gDU7/oAAAAAAAAAAAAAAAAAAAEBQwCi4CEAAAAAARqo4ZsEAwJbAgAACQIBAAADAQEAAgEAAAIAAAADAgEAAgAAAAMBAAACAQAAAgEBAAMBAAACAQAAAgEBAAMBAAACAAAAAwIBAAIAAAACAQAAAwEAAAIBAQACAQAA2vH7ANfx+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO0AAQCiAgEBAWQA/wAJAAAAAAAAAAAAAAAAOhYIAFEfCgADAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBgMAYiQMACMNBAAAAAAAAAAAADQUBgAUCAMAAAAAAAAAAADZ8fsA1/H7AAAAAAAOBQIAAAAAAAAAAAAAAAAAAAAAAAAAABMA/wBxAgAAAAAAAAAAAAAAAAAAAAABAAAAkjYRAIMxEQAcCgQAAAAAAAAAAAAAAAAAAAAAAAAAAABfIwsAXyQMAP3/AAAAAAAAAAAAAF8jDQBUHwoAAAAAANry+wDY8fsAAgEAAIozEQDdUxwADAUCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAD/AAAA+v3/APT6/QAXCAIAAAAAAAAAAAAAAAAAAAAAAAEAAAA8FQcA////AOH0/AAAAAAAAAAAAAQB/wDK7PkA2/L8ANnx+wAAAAAAizMRAEEZCAAuseUA9Pv+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAABgIBAL3n+AApDwYAAAAAAAAAAAAAAAAAAAAAAB0LBAAVCAMA7/n+AP8AAAAAAAAAAAAAAAYDAQDV7/sA2vL7AAAAAABuKQ4ANRQHAEK56QDn9/0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAABAAAABQIAAL7o+AAuEwUAAAAAAAAAAAAAAAAAAAAAAC4RBQDh9fwA7vr+AAAAAAAAAAAAAAAAAAMAAADU8PsAAAAAAEIZCABxKQ0AV8HrAPP7/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAHAgAA/f4AAMfs+gAqDgUAAQAAAAAAAAAAAAAAAAAAACwQBgDb8vwA7fn+AAAAAAAAAAAA3vP7AAQBAQDx+/4AFggDAJ05EwBsye4A5/f9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAHBAEA8fr+APb7/gDm9v0AHQwEAAAAAAAAAAAAAAAAACwQBQDb8/sA8Pn9AAAAAADg9PwA3/P8AAgDAADz+/4AmjkSABQHAgDc8/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAHAgIA9fv+AAAAAADH6vgANRIGAAAAAAAAAAAAFQgDAPf8/wD8/f8A+f3/AOH0/ADf9PwACAMBAPb7/wBpJQ0A/f4AAOf2/QA3FAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAJAwAAAwIAAAAAAADG6/kAQRgHAAAAAAAAAAAARRgHAMrt+QAOBgIA7Pj+AOD0/AAAAAAACgQCAAUBAABfIgsAZMftAIPS8ABoJQwAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAHAwEABwIBAAAAAADY8vwAHgoDABQIAwABAAAARxoJALbk9wD9/gAA6/j9AAAAAAAAAAAACgQBAAAAAACL1/EA7/r+AKbg9gD8/wAAUx0KAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAD6/f8ABwIBAAEAAAD+AAAAxev6AG0nDABRHgoA5vb8AMnt+gDx+v0A+/7/AAAAAAAAAAAAAwD/APb8/gCr4fcAAAAAAP3/AAB6z/AAhTAPAB8LAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAADu+v4AAAAAAAcDAQAAAAAAnt70AC8QBQBoJQwAlNn0AOT1/ADp+P4AAwEAAAAAAAAAAAAA6Pj+AAIAAAD9//8AAAAAAAAAAADE6/kAgNLxAKU7FABHGQgARRkJAAsEAgAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAADz+/8A1/D6ACoOBADR8fwA6/f+AGnK7wAAAAAAtuX3AAAAAADE6vgAeysNAAEAAAD/AAAA+P3/ANbx+wApDgUA1fH7AAAAAAAAAAAApuD2AO34/gBYIAoA0/D7ALzn9wAAAAAAAAAAAAAAAAAAAAAAARup4v8DAQEAAgEAAAIBAAADAQEAAgEAAAIAAAADAgEAAgAAAOv4/QDn9/0AAAAAAAAAAAABAAAAShoIALvp+QD6/f8AAAAAAD4WBwDq+P4A2PL7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARup4v8DAQEAAgEAAAIBAAADAQEAAgEAAAIAAAADAgEA6/j9AOn3/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq9/0A6vj9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOz5/gDr+P0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAA7fn+AOz4/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAADu+f0A7fn+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAO/5/gDv+v4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAA8Pr+APD6/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAADx+/4A8fr+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPP7/wDy+/4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmmTJTCOZgAEAAAAASUVORK5CYII="},234:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAMAAABGrfvuAAAAV1BMVEVrqt9PZHZAQEBagKBootRDRklIVV9qp9tMXWxdiKxGTVJUcoxRan9gjrVaWlpXeZZgkLhlnMpUcYpjl8NilL5SboZ7e3tqampsbGzR0dGrq6txcXGPj4+6oqd+AAABQUlEQVR4Xu3Xx44DIRAE0CGnSY4b//87F2G8DVrPhULaC3Vp1JbfSFbJxhPvlf+ThjSkIXlWxaalfrFcvyjqlTRPVWRainp55THfH5T1WKKkx7kekuYxpx7SHHfK9JC2uPNTD8nFne4iXeKOgRLVIIAS1UCAEtVg6SMxqhMoBc5NH8lRnUDpym0nST5XplmSeaqQO9osnTKlc51cu7Q/5pzn1i6JLMg0ZGiX8lsXk8YFkFj1yTtA0lOZDZBUJd0AictSsoi0l5JHJFFARiHSuZBOHJFYIe2QVNZAQFJZgwBJZQ0YJu0kaUwSJClMuhXfwZhk6XoASrq8spyPpftbij+W6Aq2HUuU92OJfsdnUKK7hQUlqoHHJKqB4ahk6QxKPp8XUKIaiAbJLs8IHuMeZxaPrH7l/vkn6/jP+ZshDWlIP0XjZicTGZ5tAAAAAElFTkSuQmCC"},235:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAACwVBMVEXibB7fXwriahveWgLcTwD20bn1yq/////99fHibyThaBf++fbkdi7gYAvibiHgYxDibB7ibB7ibB7ibiHcTgDrm2f////////++vjkeDHibB7ibB7fXAbhaRnibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7eWADdUADibB7ws4vibB7////ibB7ibB7vr4TdUADibB7ibR/ibB7ibB7ibB7ibB7ibB7ibB7ibB7ibB7jbB7ibB7fXgjibB743Mr////ibB7////////ibB7////keDLibSDibB7gYg7ibB732MTgYAvibB7ibB7ibB7ibB7ibR/gYQ3hZhf87ub////88OjibB7ibR/gYQ7gYxH76t/////20LjibiDcTQDuqn/lfTneVgDfXQfibSH99vLyu5ncTgDibR7xuJT++fXjbiTfWwXibSDeVwDlejXcTADibiHiaxvdUgD0yK376uDgYxLoiEzrmmbiaxzgZA/hZxbeWAL32cb428neWQPhZhXibB/ibB3hZBHeWAHcTwDeVQDojFDrl2Loi1DdUQDhaRfeWgLdVADhaRnnhkbuqHn20Lf99fDgYg/gYhD76N3zwqfYNgDgZRDng0Hto3P1y7D98uzuqHvpjlToiUv0xab+9/P31cDfXAbibSL99/P99O7//v3xtpDpk1ribyLeWADxuJX54NDxupXrmGLkdy/fWwTgYg3leDPsnGnjcijfXgjiahrcUQD0x6v87+bojVH21L7pkGHYPADiaxjnhkjsnWvUIwD98+3iax7fXgnhZxf318L43czfWwbgYxDdUwD1zLLws4zqlmDojFLcUADjcCTmfjz//f3kdCzeWQL76d71zbTdUADzwqTyv57mfTvkdjDlfjvyv5/wtZDiahvfXAfuqX1XkihuAAAAX3RSTlMAAAAAAAAAAAAAAAAAAAAAT5zM7Pftz59VA2Xu8mwX0NgfLfX8N/L7KsXRbnsB3egLVGGXo8fm6fLo6smaplgF4u0PdYLNAif5Mjf9QSHc5Cl19/p8Bl6p1fbu16xjClJqmn4AAAHxSURBVCjPY2CAAgFBIWERUTFxCUlGBmQgJR0fn5CYlJySkiojiyQuJx8PBGnpGSkpKZlZaQqKMAklZZBEQnZObkpKXn5BfLyKKkRCUS0eLJNemJJSVFxSCmSra4BlNMESaWXlQLMyKirBPC2QhDaYGV9VXZOSUluXmADh6jAw6OqBWZXV9UAtDflgLQmNTfoGDIYQNc0trSkpbe0dnQld3T29fV39RgzGEC35E4BaJk6aPKV36rTpM2bOSjFhMAVrnz1nbkrKvPn5CxYuWrwkBQTEGMzAWiqWAjnLlq+oTYGAlavMGUCeKV29Zm1Kytp1ENH1bRs2btpswWAJMqx3C1RtytZt23fszJ+6q9GKwRrkyd1Q8T179/VW79ufAParTXx844GDKSmHDh9JSTl67DjUp/G2DHZAT54AKj95CujV02fOwmSkGOwdzpWdT0m5cPHS5SspKVfT0yASjk4MTM7p14Bart+42XcrJeX2nbulYBkXBgZmFtd7KSn3L++P73rwMCXl0YMukISCGwMDK5u7R0rK4760+NKeJ0DNT7NA5nkCI4Gdnd3L+1kvOIzyn6ekXKl+ER/vwwCRYff12wwyPeElKL4nTvUPYIDJcHAGBkGC71VKSnAIFwNchpuHNzQsPMIxMio6JjaOjx8sAQD44OYFbUAZ7QAAAABJRU5ErkJggg=="},236:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo.5e59d094.png"},24:function(e,t,a){"use strict";a.r(t),a.d(t,"regex",(function(){return s})),a.d(t,"parseMangaDetails",(function(){return o})),a.d(t,"parseChapters",(function(){return u})),a.d(t,"parseChapterDetails",(function(){return l})),a.d(t,"parseUpdatedManga",(function(){return d})),a.d(t,"searchMetadata",(function(){return p})),a.d(t,"parseSearch",(function(){return h})),a.d(t,"parseTags",(function(){return f})),a.d(t,"parseHomeSections",(function(){return g})),a.d(t,"parseViewMore",(function(){return v}));var r=a(17),n=a(21),A=a(4),c=a(5),i="https://cover.mangabeast01.com/cover",s={hot_update:/vm.HotUpdateJSON = (.*);/,latest:/vm.LatestJSON = (.*);/,recommended:/vm.RecommendationJSON = (.*);/,new_titles:/vm.NewSeriesJSON = (.*);/,chapters:/vm.Chapters = (.*);/,directory:/vm.FullDirectory = (.*);/,directory_image_host:/<img ng-src=\"(.*)\//},o=function(e,t){var a,r,n,s,o,u,l,d,p,h=null!==(a=null===(r=e("[type=application\\/ld\\+json]").html())||void 0===r?void 0:r.replace(/\t*\n*/g,""))&&void 0!==a?a:"",f=h.replace(/"alternateName".*?],/g,""),g=null===(n=/"alternateName": \[(.*?)\]/.exec(h))||void 0===n?void 0:n[1].replace(/\"/g,"").split(","),v=JSON.parse(f).mainEntity,m=e(".row"),b=null!==(s=null===(o=e(".ImgHolder").html())||void 0===o||null===(u=o.match(/src="(.*)\//))||void 0===u?void 0:u[1])&&void 0!==s?s:i;b!==i&&(i=b);var x="".concat(i,"/").concat(t,".jpg"),j=[null!==(l=e("h1",m).first().text())&&void 0!==l?l:""],y=v.author[0];j=j.concat(null!==g&&void 0!==g?g:"");var O=Number(null===(d=e.root().html())||void 0===d||null===(p=d.match(/vm.NumSubs = (.*);/))||void 0===p?void 0:p[1]),w=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})];w[0].tags=v.genre.map((function(e){return createTag({id:e,label:e})}));var k,S=v.dateModified,M=c.MangaStatus.ONGOING,N="",D=(v.genre.includes("Hentai")||v.genre.includes("Adult"),e(".list-group",m)),T=Object(A.a)(e("li",D).toArray());try{for(T.s();!(k=T.n()).done;){var C=k.value;switch(e(".mlabel",C).text()){case"Type:":var E=e("a",C).text();w[1].tags.push(createTag({id:E.trim(),label:E.trim()}));break;case"Status:":M=e(C).text().includes("Ongoing")?c.MangaStatus.ONGOING:c.MangaStatus.COMPLETED;break;case"Description:":N=e("div",C).text().trim()}}}catch(R){T.e(R)}finally{T.f()}return createManga({id:t,titles:j,image:x,rating:0,status:M,author:y,tags:w,desc:N,hentai:!1,follows:O,lastUpdate:S})},u=function(e,t){var a,r,n,i,o=JSON.parse(null!==(a=null===(r=e.root().html())||void 0===r||null===(n=r.match(s.chapters))||void 0===n?void 0:n[1])&&void 0!==a?a:"").reverse(),u=[],l=Object(A.a)(o);try{for(l.s();!(i=l.n()).done;){var d=i.value,p=d.Chapter,h=Number(p.substring(0,1)),f=1!=h?"-index-"+h:"",g=parseInt(p.slice(1,-1)),v=Number(p[p.length-1]),m=t+"-chapter-"+g+(0!=v?"."+v:"")+f+".html",b=g+.1*v,x=d.ChapterName?d.ChapterName:"",j=d.Date.replace(/-/g,"/"),y=new Date(j);u.push(createChapter({id:m,mangaId:t,name:x,chapNum:b,volume:h,langCode:c.LanguageCode.ENGLISH,time:y}))}}catch(O){l.e(O)}finally{l.f()}return u},l=function(e,t,a){for(var r,n,A,c=[],i=null===(r=e.match(/ng-src="https:\/\/{{([a-zA-Z0-9.]+)}}\/manga\/.+\.png/))||void 0===r?void 0:r[1],s=null===(n=e.match(new RegExp("".concat(i,' = "(.*)";'))))||void 0===n?void 0:n[1],o=JSON.parse(null===(A=e.match(/vm.CurChapter = (.*);/))||void 0===A?void 0:A[1]),u=Number(o.Page),l=o.Chapter.slice(1,-1),d=o.Chapter[o.Chapter.length-1],p=0==d?l:l+"."+d,h=0;h<u;h++){var f="000"+(h+1),g=f.substr(f.length-3);c.push("https://".concat(s,"/manga/").concat(t,"/").concat(""==o.Directory?"":o.Directory+"/").concat(p,"-").concat(g,".png"))}return createChapterDetails({id:a,mangaId:t,pages:c,longStrip:!1})},d=function(e,t,a){var r,n,c=e.data,i={ids:[]},o=JSON.parse(null===(r=c.match(s.latest))||void 0===r?void 0:r[1]),u=Object(A.a)(o);try{for(u.s();!(n=u.n()).done;){var l=n.value;a.includes(l.IndexName)&&t<new Date(l.Date)&&i.ids.push(l.IndexName)}}catch(d){u.e(d)}finally{u.f()}return i},p=function(e){var t,a,r,n,A,c,i="";switch(e.status){case 0:i="Completed";break;case 1:i="Ongoing";break;default:i=""}var s=e.includeGenre?e.includeDemographic?e.includeGenre.concat(e.includeDemographic):e.includeGenre:e.includeDemographic,o=e.excludeGenre?e.excludeDemographic?e.excludeGenre.concat(e.excludeDemographic):e.excludeGenre:e.excludeDemographic;return{keyword:null===(t=e.title)||void 0===t?void 0:t.toLowerCase(),author:(null===(a=e.author)||void 0===a?void 0:a.toLowerCase())||(null===(r=e.artist)||void 0===r?void 0:r.toLowerCase())||"",status:null!==(n=null===(A=i)||void 0===A?void 0:A.toLowerCase())&&void 0!==n?n:"",type:null===(c=e.includeFormat)||void 0===c?void 0:c.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genre:null===s||void 0===s?void 0:s.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genreNo:null===o||void 0===o?void 0:o.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""}))}},h=function(e,t){var a,r,c,o,u=[],l=JSON.parse(null!==(a=null===e||void 0===e||null===(r=e.match(s.directory))||void 0===r?void 0:r[1])&&void 0!==a?a:"").Directory,d=null!==(c=null===e||void 0===e||null===(o=e.match(s.directory_image_host))||void 0===o?void 0:o[1])&&void 0!==c?c:i;d!==i&&(i=d);var p,h=Object(A.a)(l);try{var f=function(){var e,a,r,A,c,s,o=p.value,l="undefined"===typeof t.keyword,d=""===t.author,h=""===t.status,f=!("undefined"!==typeof t.type&&t.type.length>0),g=!("undefined"!==typeof t.genre&&t.genre.length>0),v="undefined"!==typeof t.genreNo;l||(l=[].concat(Object(n.a)(null!==(r=o.al)&&void 0!==r?r:[]),[null!==(A=o.s)&&void 0!==A?A:""]).join("||").toLowerCase().includes(t.keyword));d||(null!==(c=null===(s=o.a)||void 0===s?void 0:s.join("||").toLowerCase())&&void 0!==c?c:"").includes(t.author)&&(d=!0);h||("ongoing"==o.st&&"ongoing"==t.status||"ongoing"!=o.st&&"ongoing"!=t.ss)&&(h=!0);var m=null!==(e=null===(a=o.g)||void 0===a?void 0:a.join("||"))&&void 0!==e?e:"";f||(f=t.type.includes(o.t)),g||(g=t.genre.every((function(e){return m.includes(e)}))),v&&(v=t.genreNo.every((function(e){return m.includes(e)}))),l&&d&&h&&f&&g&&!v&&u.push(createMangaTile({id:o.i,title:createIconText({text:o.s}),image:"".concat(i,"/").concat(o.i,".jpg"),subtitleText:createIconText({text:o.st})}))};for(h.s();!(p=h.n()).done;)f()}catch(g){h.e(g)}finally{h.f()}return createPagedResults({results:u})},f=function(e){var t,a,r,n=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})],A=JSON.parse(null===(t=e.match(/"Genre"\s*: (.*)/))||void 0===t?void 0:t[1].replace(/'/g,'"')),c=null===(a=e.match(/"Type"\s*: (.*),/g))||void 0===a?void 0:a[1],i=JSON.parse(null===(r=c.match(/(\[.*\])/))||void 0===r?void 0:r[1].replace(/'/g,'"'));return n[0].tags=A.map((function(e){return createTag({id:e,label:e})})),n[1].tags=i.map((function(e){return createTag({id:e,label:e})})),n},g=function(e,t,a){var n,c,o,u,l,d,p,h=createHomeSection({id:"hot_update",title:"HOT UPDATES",view_more:!0}),f=createHomeSection({id:"latest",title:"LATEST UPDATES",view_more:!0}),g=createHomeSection({id:"new_titles",title:"NEW TITLES",view_more:!0}),v=createHomeSection({id:"recommended",title:"RECOMMENDATIONS",view_more:!0}),m=[h,f,g,v],b=[JSON.parse(null===(n=t.match(s[h.id]))||void 0===n?void 0:n[1]).slice(0,15),JSON.parse(null===(c=t.match(s[f.id]))||void 0===c?void 0:c[1]).slice(0,15),JSON.parse(null===(o=t.match(s[g.id]))||void 0===o?void 0:o[1]).slice(0,15),JSON.parse(null===(u=t.match(s[v.id]))||void 0===u?void 0:u[1])],x=null!==(l=null===(d=e(".ImageHolder").html())||void 0===d||null===(p=d.match(/ng-src="(.*)\//))||void 0===p?void 0:p[1])&&void 0!==l?l:i;x!==i&&(i=x);var j,y=Object(A.a)(m.entries());try{for(y.s();!(j=y.n()).done;){var O=Object(r.a)(j.value,2),w=O[0],k=O[1];a(k);var S,M=[],N=Object(A.a)(b[w]);try{for(N.s();!(S=N.n()).done;){var D=S.value,T=D.IndexName,C=D.SeriesName,E="".concat(i,"/").concat(T,".jpg"),R=new Date(D.Date).toDateString();R=(R=R.slice(0,R.length-5)).slice(4,R.length),M.push(createMangaTile({id:T,image:E,title:createIconText({text:C}),secondaryText:createIconText({text:R,icon:"clock.fill"})}))}}catch(I){N.e(I)}finally{N.f()}k.items=M,a(k)}}catch(I){y.e(I)}finally{y.f()}},v=function(e,t){var a,r=[],n=new Set;if(!s[t])return null;var c,o=JSON.parse(null===(a=e.match(s[t]))||void 0===a?void 0:a[1]),u=Object(A.a)(o);try{for(u.s();!(c=u.n()).done;){var l=c.value,d=l.IndexName;if(!n.has(d)){var p=l.SeriesName,h="".concat(i,"/").concat(d,".jpg"),f=new Date(l.Date).toDateString();f=(f=f.slice(0,f.length-5)).slice(4,f.length),r.push(createMangaTile({id:d,image:h,title:createIconText({text:p}),secondaryText:"new_titles"!==t?createIconText({text:f,icon:"clock.fill"}):void 0})),n.add(d)}}}catch(g){u.e(g)}finally{u.f()}return createPagedResults({results:r})}},241:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),A=a(54),c=a.n(A),i=(a(114),a(17)),s=a(6),o=a(9),u=a(8),l=a(7),d=a(48),p=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")},h=a(10),f=a(20),g=a(26),v=a(1),m=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("section",{className:"w-full flex-grow pt-1 sm:pt-2",children:Object(v.jsxs)("div",{className:"w-full flex-grow",children:[Object(v.jsx)("h1",{className:p(this.props.textSize?this.props.textSize:"text-2xl sm:text-3xl","text-black dark:text-white font-semibold leading-loose mb-1"),children:this.props.text}),Object(v.jsx)("h2",{className:p(this.props.subTextSize?this.props.subTextSize:"text-sm sm:text-md","text-gray-600 dark:text-gray-400 font-medium"),children:this.props.subText})]})})}}]),a}(r.PureComponent),b="changelog",x=JSON.parse('[{"status":["M"],"files":["src/sources/MangaDex/MangaDex.ts"],"abbrevHash":"62f3933","authorDate":"2021-12-20 22:57:17 +0000","authorName":"Narin","subject":"Update MangaDex Seasonal List ID (#6)"},{"status":["M","M"],"files":["src/sources/CubariSource.ts","src/sources/NHentai/NHentai.ts"],"abbrevHash":"cbc6db1","authorDate":"2021-12-14 06:23:27 -0800","authorName":"funkyhippo","subject":"Revert \\"Update CORS proxy.\\", change image proxy."},{"status":["D","D","D","M"],"files":["src/sources/CatManga/CatManga.ts","src/sources/CatManga/CatMangaParser.ts","src/sources/CatManga/includes/icon.png","src/sources/sourcemap.js"],"abbrevHash":"79397f6","authorDate":"2021-11-24 19:47:11 -0800","authorName":"funkyhippo","subject":"Kill the cat."},{"status":["M"],"files":["src/sources/CubariSource.ts"],"abbrevHash":"aeb7aea","authorDate":"2021-11-24 19:45:08 -0800","authorName":"funkyhippo","subject":"Update CORS proxy."},{"status":["M"],"files":["src/sources/NHentai/NHentai.ts"],"abbrevHash":"5e69f80","authorDate":"2021-10-25 21:57:43 -0700","authorName":"funkyhippo","subject":"Proxy for NHentai covers."}]'),j=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),A=0;A<r;A++)n[A]=arguments[A];return(e=t.call.apply(t,[this].concat(n))).state={isOpen:!1,changeAvailable:!1},e.setIsOpen=function(t){return function(){localStorage.setItem(b,x[0].abbrevHash),e.setState({isOpen:t,changeAvailable:!1})}},e.componentDidMount=function(){var t=localStorage.getItem(b);t&&t===x[0].abbrevHash||e.setState({changeAvailable:!0})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("button",{className:"p-1 relative rounded-full bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white focus:outline-none",onClick:this.setIsOpen(!0),children:[this.state.changeAvailable?Object(v.jsx)("span",{className:"absolute top-0 right-0 inline-block w-2 h-2 bg-red-500 dark:bg-red-600 rounded-full"}):void 0,Object(v.jsx)(f.d,{className:"h-6 w-6","aria-hidden":"true"}),Object(v.jsx)(h.f,{appear:!0,show:this.state.isOpen,as:r.Fragment,children:Object(v.jsx)(h.a,{open:!!this.state.isOpen,onClose:this.setIsOpen(!1),as:"div",className:"fixed inset-0 z-10 overflow-y-auto",children:Object(v.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(v.jsx)(h.a.Overlay,{className:"fixed inset-0"}),Object(v.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(v.jsx)(h.f.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(v.jsxs)("div",{className:"text-black dark:text-white inline-block bg-gray-100 dark:bg-gray-800 w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[Object(v.jsxs)("div",{className:"-mt-2",children:[Object(v.jsx)(m,{text:"About"}),Object(v.jsxs)(h.a.Description,{className:"pb-5",children:["While this project is related to"," ",Object(v.jsx)("a",{className:"text-blue-500 hover:text-blue-600",href:"https://cubari.moe/",children:"cubari.moe"}),", it should be considered distinct (and will evolve independently of the main website).",Object(v.jsx)("br",{}),"Sources that have decent readers and/or no ads may be included."]}),Object(v.jsx)(m,{text:"Credits"}),Object(v.jsxs)(h.a.Description,{className:"pb-5",children:["All sources are powered by Paperback's extensions."," ",Object(v.jsx)("a",{className:"text-blue-500 hover:text-blue-600",href:"https://paperback.moe/",children:"Check out the app if you're on iOS."})]}),Object(v.jsx)(m,{text:"Discord"}),Object(v.jsxs)(h.a.Description,{className:"pb-5",children:["Got suggestions? Either send us a message through the chat icon or"," ",Object(v.jsx)("a",{className:"text-blue-500 hover:text-blue-600",href:"https://discord.gg/SavdUC45MS",children:"join our Discord."})]}),Object(v.jsx)(m,{text:"Changelog"}),Object(v.jsx)(h.a.Description,{children:x.map((function(e){return Object(v.jsxs)("span",{className:"block",children:[Object(v.jsxs)("span",{className:"text-red-400",children:["(",Object(v.jsx)("code",{children:e.abbrevHash}),")"]})," ",e.subject]},e.abbrevHash)}))})]}),Object(v.jsx)("button",{className:"mt-10 bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white block px-3 py-2 rounded-md text-base font-medium",onClick:this.setIsOpen(!1),children:"Cool"})]})})]})})})]})}}]),a}(r.PureComponent),y=a(21),O={dark:{rootClasses:["dark","bg-gray-900"]},light:{rootClasses:["bg-gray-100"]}},w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).setTheme=function(e){var t;window.localStorage.setItem("theme",e),document.body.classList.length&&(document.body.className="transition-colors duration-300"),(t=document.body.classList).add.apply(t,Object(y.a)(O[e].rootClasses)),r.setState({theme:e})},r.componentDidMount=function(){r.setTheme(window.localStorage.getItem("theme"))};var n=window.localStorage.getItem("theme");return n||window.localStorage.setItem("theme","dark"),r.state={theme:n},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsx)("button",{className:"p-1 rounded-full bg-transparent focus:outline-none text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white mr-4",onClick:function(){"dark"===e.state.theme?e.setTheme("light"):e.setTheme("dark")},children:"dark"===this.state.theme?Object(v.jsx)(f.g,{className:"h-6 w-6"}):Object(v.jsx)(f.f,{className:"h-6 w-6"})})}}]),a}(r.PureComponent),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleChange=function(e){r.setState({textValue:e.target.value})},r.handleKeyPress=function(e){if("Enter"===e.key&&r.state.textValue){var t=new URLSearchParams;t.append("text",r.state.textValue),fetch("https://guya.moe/api/black_hole_mail/",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){r.setState({submitted:!0,textValue:(e.success?"Successfully delivered!":e.error&&"Failed to send.")||"No response."})})).catch((function(){r.setState({submitted:!0,textValue:"Failed to send."})}))}},r.state={textValue:"",submitted:!1},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsx)(h.c,{as:r.Fragment,children:function(t){var a=t.open;return Object(v.jsxs)("div",{className:"relative mr-4",children:[Object(v.jsx)(h.c.Button,{as:"button",className:p("p-1 rounded-full bg-transparent text-black relative focus:outline-none",a?"bg-gray-200 dark:bg-gray-700 text-black dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-700 dark:hover:text-white text-black dark:text-gray-300"),children:Object(v.jsx)(f.c,{className:"h-6 w-6","aria-hidden":"true"})}),Object(v.jsx)(h.f,{as:r.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 -translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-1",children:Object(v.jsx)(h.c.Panel,{focus:!0,className:"absolute z-40 w-screen max-w-xl px-4 transform -right-24 sm:px-0 pointer-events-none",children:Object(v.jsx)("div",{className:"ml-8 overflow-hidden mt-6 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:Object(v.jsxs)("div",{className:"p-4 text-black dark:text-white bg-gray-100 dark:bg-gray-800 pointer-events-auto",children:[Object(v.jsx)(m,{text:"Send us a message!",textSize:"text-2xl",subText:"Let us know if you have any ideas, suggestions, or issues.",subTextSize:"text-sm"}),Object(v.jsx)("input",{className:p("w-full mt-8 p-4 text-md bg-gray-200 dark:bg-gray-700 rounded-md focus:outline-none shadow-md",e.state.submitted?"text-gray-500 dark:text-gray-500 user select-none":"text-black dark:text-white"),onChange:e.handleChange,onKeyPress:e.handleKeyPress,type:"text",value:e.state.textValue,placeholder:"Press enter to send...",disabled:e.state.submitted})]})})})})]})}})}}]),a}(r.PureComponent),S=a(11),M=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.style.backgroundImage=e.target.dataset.backgroundImage,t.unobserve(e.target))}))})),N=a(72),D=a(2),T=a.n(D),C=a(3),E=a(107),R=a.n(E),I="cubari",B=function(){var e={name:I,builder:function(e){var t="series",a="{SOURCE_SLUG_REPLACEMENT}",r="series/",n="".concat(r).concat(a);e.declareType(t,{type:"object",properties:{slug:{type:"string"},coverUrl:{type:"string"},source:{type:"string"},url:{type:"string"},title:{type:"string"},timestamp:{type:"number"},chapters:{type:"array",default:[]},pinned:{type:"boolean",default:!1}},required:["slug","source","url","title","timestamp","chapters","pinned"]});var A=function(e,t){return"".concat(t,"-").concat(e)},c=function(e,t,r){return e.replace(a,A(t,r))},i=function(e,t,a,r,n,A,c){return{slug:e,coverUrl:t||"",source:a,url:r,title:n,timestamp:Date.now(),chapters:c||[],pinned:void 0!==A&&A}};return{exports:{slugBuilder:A,addSeries:function(a,r,A,s,o,u,l){var d=i(a,r,A,s,o,u,l);return e.storeObject(t,c(n,a,A),d)},editSeries:function(){var a=Object(C.a)(T.a.mark((function a(r,A,s,o,u,l,d){var p,h;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getObject(c(n,r,s));case 2:if(!(p=a.sent)){a.next=8;break}return h=i(r||p.slug,A||p.coverUrl,s||p.source,o||p.url,u||p.title,void 0!==l?l:p.pinned,d||p.chapters),a.abrupt("return",e.storeObject(t,c(n,r,s),h));case 8:console.error("[Remote Storage] Cannot edit a non-existent series.");case 9:case"end":return a.stop()}}),a)})));return function(e,t,r,n,A,c,i){return a.apply(this,arguments)}}(),getSeries:function(t,a){return e.getObject(c(n,t,a))},removeSeries:function(t,a){return e.remove(c(n,t,a))},getAllSeries:function(){return e.storage.connected?e.getAll(r,6e4):e.getAll(r)}}}}},t=new R.a({cache:!0,modules:[e],disableFeatures:["Dropbox","GoogleDrive","IndexedDB"]});return t.access.claim(I,"rw"),t.caching.enable("/".concat(I,"/")),t}(),L=function(){var e="timestamp",t=function(e,t){var a=[];for(var r in e)a.push(e[r]);return a.sort((function(e,a){return a[t]-e[t]})),a},a=function(){var e=Object(C.a)(T.a.mark((function e(){var t,a,r,n,A,c,s,o,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getAllSeries();case 2:t=e.sent,a=0,r=Object.entries(t);case 4:if(!(a<r.length)){e.next=21;break}if(n=Object(i.a)(r[a],2),A=n[0],c=n[1],e.prev=6,c.timestamp){e.next=13;break}return s=A.indexOf("-"),o=A.slice(s+1),u=A.slice(0,s),e.next=13,B.cubari.removeSeries(o,u);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("[Global History] Sync error, continuing.");case 18:a++,e.next=4;break;case 21:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var r=Object(C.a)(T.a.mark((function r(n,A,c,i,s){var o,u,l;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:return r.t0=t,r.next=5,B.cubari.getAllSeries();case 5:if(r.t1=r.sent,r.t1){r.next=8;break}r.t1={};case 8:r.t2=r.t1,r.t3=e,o=(0,r.t0)(r.t2,r.t3),u=o.find((function(e){return e.slug===n&&e.source===c})),o=o.filter((function(e){return!e.pinned}));case 13:if(!(o.length+(u?0:1)>20)){r.next=19;break}return l=o.pop(),r.next=17,B.cubari.removeSeries(l.slug,l.source);case 17:r.next=13;break;case 19:if(!u){r.next=23;break}return r.abrupt("return",B.cubari.editSeries(n,A,c,i,s,u.pinned,u.chapters));case 23:return r.abrupt("return",B.cubari.addSeries(n,A,c,i,s,void 0,void 0));case 24:case"end":return r.stop()}}),r)})));return function(e,t,a,n,A){return r.apply(this,arguments)}}(),n=function(){var e=Object(C.a)(T.a.mark((function e(t,r){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",B.cubari.removeSeries(t,r));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(C.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllUnpinnedSeries();case 2:(t=e.sent)&&Array.prototype.forEach.call(t,(function(e){n(e.slug,e.source)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(C.a)(T.a.mark((function e(t,a,r){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,a);case 2:if(!(n=e.sent)){e.next=8;break}return r=Object(y.a)(new Set([].concat(Object(y.a)(r),Object(y.a)(n.chapters)))),e.abrupt("return",B.cubari.editSeries(t,void 0,a,void 0,void 0,void 0,r));case 8:console.error("[Global History] addChapters - Series didn't exist.");case 9:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),s=function(){var e=Object(C.a)(T.a.mark((function e(t,a,r){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t,a,[r]));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return{max:20,pushSeries:r,removeSeries:n,removeAllUnpinnedSeries:A,addChapters:c,addChapter:s,removeChapter:function(){var e=Object(C.a)(T.a.mark((function e(t,a,r){var n,A;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,a);case 2:if(!(n=e.sent)){e.next=8;break}return A=n.chapters.filter((function(e){return e!==r})),e.abrupt("return",B.cubari.editSeries(t,void 0,a,void 0,void 0,void 0,A));case 8:console.error("[Global History] removeChapter - Series didn't exist.");case 9:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),removeAllChapters:function(){var e=Object(C.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,a);case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",B.cubari.editSeries(t,void 0,a,void 0,void 0,void 0,[]));case 7:console.error("[Global History] removeAllChapters - series didn't exist.");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getReadChapters:function(){var e=Object(C.a)(T.a.mark((function e(t,a){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,a);case 2:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",r.chapters);case 7:console.error("[Global History] getReadChapters - series didn't exist.");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),isSeriesPinned:function(){var e=Object(C.a)(T.a.mark((function e(t,a){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,a);case 2:return r=e.sent,e.abrupt("return",!(!r||!r.pinned));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pinSeries:function(){var e=Object(C.a)(T.a.mark((function e(t,a,r,n,A){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,r);case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",B.cubari.editSeries(t,void 0,r,void 0,void 0,!0,void 0));case 7:return e.abrupt("return",B.cubari.addSeries(t,a,r,n,A,!0,void 0));case 8:case"end":return e.stop()}}),e)})));return function(t,a,r,n,A){return e.apply(this,arguments)}}(),unpinSeries:function(){var e=Object(C.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cubari.getSeries(t,a);case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",B.cubari.editSeries(t,void 0,a,void 0,void 0,!1,void 0));case 7:console.error("[Global History] unpinSeries - series didn't exist.");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getAllPinnedSeries:function(){var r=Object(C.a)(T.a.mark((function r(){return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:return r.t0=t,r.next=5,B.cubari.getAllSeries();case 5:if(r.t1=r.sent,r.t1){r.next=8;break}r.t1={};case 8:return r.t2=r.t1,r.t3=e,r.abrupt("return",(0,r.t0)(r.t2,r.t3).filter((function(e){return e.pinned})));case 11:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getAllUnpinnedSeries:function(){var r=Object(C.a)(T.a.mark((function r(){return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:return r.t0=t,r.next=5,B.cubari.getAllSeries();case 5:if(r.t1=r.sent,r.t1){r.next=8;break}r.t1={};case 8:return r.t2=r.t1,r.t3=e,r.abrupt("return",(0,r.t0)(r.t2,r.t3).filter((function(e){return!e.pinned})));case 11:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}}(),H=function(e){return function(){return e&&e.startsWith("/")?"https://cubari.moe".concat(e):e}},P=function(e){return(e||"").replace("https://cubari.moe","")},U=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"w-full flex place-content-center pt-10 pb-10",children:Object(v.jsx)(q,{className:"text-black dark:text-white animate-spin block h-10 w-10"})})}}]),a}(r.PureComponent),q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("svg",{className:this.props.className,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(v.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(v.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}}]),a}(r.PureComponent),G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).consolidateState=function(e){r.ref.current&&r.setState(e)},r.saveToHistory=function(){return L.pushSeries(r.props.slug,r.props.coverUrl,r.props.sourceName,P(r.props.mangaUrlizer(r.props.slug)),r.props.mangaTitle).then((function(){var e={removing:!1};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.removeFromHistory=function(){return L.removeSeries(r.props.slug,r.props.sourceName).then((function(){var e={removing:!1};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.saveToPin=function(){return L.pinSeries(r.props.slug,r.props.coverUrl,r.props.sourceName,P(r.props.mangaUrlizer(r.props.slug)),r.props.mangaTitle).then((function(){var e={saving:!1,saved:!0};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.removeFromPin=function(){return L.unpinSeries(r.props.slug,r.props.sourceName).then((function(){var e={saving:!1,saved:!1};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.addHistoryHandler=function(e){r.setState({removing:!0},r.saveToHistory)},r.removeHistoryHandler=function(e){return e.preventDefault(),e.stopPropagation(),r.state.removing||r.setState({removing:!0},r.removeFromHistory),!1},r.pinHandler=function(e){return e.preventDefault(),e.stopPropagation(),r.state.saving||r.setState({saving:!0},(function(){r.state.saved?r.removeFromPin():r.saveToPin()})),!1},r.componentDidMount=function(){M.observe(r.ref.current),r.props.saved?r.setState({saved:r.props.saved,saving:!1}):L.isSeriesPinned(r.props.slug,r.props.sourceName).then((function(e){r.ref.current&&r.setState({saved:e,saving:!1})}))},r.componentWillUnmount=function(){M.unobserve(r.ref.current)},r.ref=n.a.createRef(),r.state={saved:void 0,saving:!0,removing:!1},r}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)(h.f,{appear:!0,show:!0,as:r.Fragment,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(v.jsx)("div",{className:"px-1.5 py-2.5 sm:px-3.5 sm:py-5",style:{willChange:"transform"},children:Object(v.jsx)("a",{ref:this.ref,href:this.props.mangaUrlizer(this.props.slug),target:"_blank",rel:"noopener noreferrer",className:"bg-no-repeat bg-cover bg-center bg-gray-300 dark:bg-gray-800 transform rounded-lg shadow-md scale-100 md:hover:scale-105 w-36 h-56 sm:h-72 sm:w-48 flex flex-row flex-wrap p-1 transition duration-100 ease-in-out","data-background-image":'linear-gradient(rgba(0,0,0,0) 60%, rgba(0,0,0,0.75) 90%), url("'.concat(this.props.coverUrl,'")'),onClick:this.addHistoryHandler,style:{willChange:"transform"},children:Object(v.jsx)("div",{className:"w-full h-full px-0 flex flex-row flex-wrap overflow-hidden",children:Object(v.jsxs)("div",{className:"w-full text-gray-700 font-semibold relative pt-3 md:pt-0",children:[Object(v.jsx)("div",{className:"text-xs sm:text-base text-white absolute bottom-0 left-0 mx-1 mb-1",style:{textShadow:"0 0 4px black, 0 0 4px black, 0 0 4px black, 0 0 4px black"},children:this.props.mangaTitle}),Object(v.jsx)("div",{className:p(this.props.showRemoveFromHistory?"text-gray-400 dark:text-gray-600":"hidden","absolute top-0 left-0 mx-1 my-1 bg-gray-900 dark:bg-white rounded-full p-1 shadow-xl transform scale-95 transition-opacity transition-transform duration-250",this.state.removing?"opacity-100 hover:scale-95":"opacity-40 hover:scale-105 hover:opacity-100"),onClick:this.removeHistoryHandler,style:{willChange:"transform"},children:this.state.removing?Object(v.jsx)(q,{className:"rounded-full animate-spin z-10 p-0 w-6 h-6"}):Object(v.jsx)(N.b,{className:"rounded-full z-10 p-0 w-6 h-6"})}),Object(v.jsx)("div",{className:p(this.state.saved?"opacity-80 text-red-700 dark:text-red-600":"text-gray-400 dark:text-gray-600","absolute top-0 right-0 mx-1 my-1 bg-gray-900 dark:bg-white rounded-full p-1 shadow-xl transform scale-95 transition-opacity transition-transform duration-250",this.state.saving?"opacity-100 hover:scale-95":"opacity-40 hover:scale-105 hover:opacity-100"),onClick:this.pinHandler,style:{willChange:"transform"},children:this.state.saving?Object(v.jsx)(q,{className:"rounded-full animate-spin z-10 p-0 w-6 h-6"}):Object(v.jsx)(N.a,{className:"rounded-full z-10 p-0 w-6 h-6"})})]})})})})})}}]),a}(r.PureComponent),Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).observerCallback=function(e){e.forEach((function(e){e.isIntersecting&&(r.setState({itemLength:6},r.scrollPositionHandler),r.observer.unobserve(e.target),delete r.observer)}))},r.scrollPositionHandler=function(){if(r.ref.current){var e=r.ref.current.scrollLeft<20,t=r.ref.current.scrollLeft+r.ref.current.clientWidth>r.ref.current.scrollWidth-20;t&&r.state.itemLength<r.props.children.length?r.setState({itemLength:r.state.itemLength+6}):r.setState({fullyLeftScrolled:e,fullyRightScrolled:t})}},r._scroller=function(e){if(!r.state.scrolling){r.ref.current.classList.add("overflow-x-hidden");var t=r.ref.current.lastChild.lastChild.clientWidth,a=r.ref.current.clientWidth,n=r.ref.current.scrollLeft,A=t*Math.floor(a/t)+(t*Math.ceil(n/t)-n)*e;A<t&&(A=t);var c=0;window.requestAnimationFrame((function t(){var a=c/20,i=a*a/(2*(a*a-a)+1);r.ref.current.scrollLeft=n+i*A*e,++c<20?window.requestAnimationFrame(t):(r.ref.current.classList.remove("overflow-x-hidden"),r.setState({scrolling:!1}))})),r.setState({scrolling:!0})}},r.scrollLeft=function(){r._scroller(-1)},r.scrollRight=function(){r._scroller(1)},r.componentDidMount=function(){r.observer.observe(r.componentRef.current),window.addEventListener("resize",r.scrollPositionHandler)},r.componentWillUnmount=function(){window.removeEventListener("resize",r.scrollPositionHandler)},r.onMouseEnter=function(){return r.setState({isButtonHovered:!0})},r.onMouseLeave=function(){return r.setState({isButtonHovered:!1})},r.state={fullyLeftScrolled:!0,fullyRightScrolled:!0,isButtonHovered:!1,scrolling:!1,itemLength:0},r.ref=n.a.createRef(),r.componentRef=n.a.createRef(),r.observer=new IntersectionObserver(r.observerCallback),r}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.fullyLeftScrolled,a=e.fullyRightScrolled,r=e.isButtonHovered,n=this.props.iconSize,A=void 0===n?8:n;return Object(v.jsxs)("div",{className:"relative w-full h-full",ref:this.componentRef,children:[Object(v.jsx)("div",{hidden:t&&!r,className:p(t?"opacity-0":"opacity-100","absolute select-none -left-2 top-1/2 transform -translate-y-1/2 z-10 transition-all duration-250"),children:Object(v.jsx)("div",{className:"cursor-pointer sticky bg-gray-900 text-white dark:bg-white dark:text-black rounded-full p-2 shadow-2xl transform scale-95 hover:scale-100 opacity-40 sm:opacity-80 hover:opacity-100 transition-opacity transition-transform duration-250",onClick:this.scrollLeft,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:Object(v.jsx)(f.a,{className:"rounded-full z-10 p-0 w-".concat(A," h-").concat(A),"aria-hidden":"true"})})}),this.state.itemLength?Object(v.jsx)("div",{ref:this.ref,className:"static w-full h-full flex overflow-x-auto no-scrollbar pb-1 pt-1 select-none",onScroll:this.scrollPositionHandler,children:Object(v.jsx)("div",{className:"flex flex-nowrap mt-1 mb-1",children:Array.isArray(this.props.children)?this.props.children.slice(0,this.state.itemLength):this.props.children})}):this.props.children.length?Object(v.jsx)(U,{}):void 0,Object(v.jsx)("div",{hidden:a&&!r,className:p(a?"opacity-0":"opacity-100","absolute select-none -right-2 top-1/2 transform -translate-y-1/2 z-10 transition-all duration-250"),children:Object(v.jsx)("div",{className:"cursor-pointer  bg-gray-900 text-white dark:bg-white dark:text-black rounded-full p-2 shadow-2xl transform scale-95 hover:scale-100 opacity-40 sm:opacity-80 hover:opacity-100 transition-opacity transition-transform duration-250",onClick:this.scrollRight,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:Object(v.jsx)(f.b,{className:"rounded-full z-10 p-0 w-".concat(A," h-").concat(A),"aria-hidden":"true"})})})]})}}]),a}(r.PureComponent),_=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"container mx-auto my-auto max-w-6xl pb-10",children:Object(v.jsx)("div",{className:"w-full h-full bg-transparent flex flex-wrap place-content-center md:place-content-start place-items-center p-3",children:this.props.children})})}}]),a}(r.PureComponent),J=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).state={currentSource:Object.keys(g.default)[0]},e.componentDidMount=function(){e.props.setPath("Discover")},e.setCurrentSource=function(t){e.setState({currentSource:t})},e}return Object(o.a)(n,[{key:"getSourceNamesAndIcons",value:function(){for(var e=new Set(Object(y.a)(this.props.discover).map((function(e){return e.sourceName}))),t=[],r=0,n=Object.entries(g.default);r<n.length;r++){var A=Object(i.a)(n[r],2),c=A[0],s=A[1].getSourceDetails().icon;t.push({name:c,icon:a(230)("./".concat(c,"/includes/").concat(s)),disabled:!e.has(c)})}return t}},{key:"render",value:function(){var e=this,t=[];return this.props.discover.forEach((function(e){if(e.items&&e.items.length){var a=e.title.split(" - ")[1];t.push(Object(v.jsxs)(r.Fragment,{children:[Object(v.jsx)(m,{text:(n=a,n.split(" ").filter(Boolean).map((function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)})).join(" "))},e.id+e.title+"title"),Object(v.jsx)(Q,{children:e.items.map((function(t){return Object(v.jsx)(G,{mangaUrlizer:e.mangaUrlizer,slug:t.id,coverUrl:t.image,mangaTitle:t.title.text,sourceName:e.sourceName,source:e.source},e.id+t.id)}))},e.id+e.title+"-carousel")]},e.sourceName+e.id+e.title+"-section"))}var n})),Object(v.jsx)(_,{children:this.props.discover.size?Object(v.jsxs)(r.Fragment,{children:[Object(v.jsx)(Q,{iconSize:4,children:Object(v.jsx)(h.d,{as:"div",className:"py-2 flex flex-nowrap",value:this.state.currentSource,onChange:this.setCurrentSource,children:this.getSourceNamesAndIcons().map((function(e){return Object(v.jsx)(h.d.Option,{as:r.Fragment,value:e.name,children:function(t){var a=t.checked;return Object(v.jsxs)("button",{disabled:e.disabled,className:p(a?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black dark:text-gray-300",e.disabled?"opacity-25":a?"":"hover:bg-gray-200 dark:hover:bg-gray-700 dark:hover:text-white","min-w-max inline-flex items-center justify-center px-3 py-2 mx-2 rounded-md text-md font-medium focus:outline-none"),children:[e.disabled?Object(v.jsx)(q,{className:"h-8 h-8 animate-spin"}):Object(v.jsx)("img",{src:e.icon.default,className:"h-8 w-8",alt:e.name}),Object(v.jsx)("div",{className:"block px-2",children:e.name})]})}},e.name)}))})}),t.map((function(t){return t.key.includes(e.state.currentSource)?t:void 0}))]}):Object(v.jsx)(U,{})})}}]),n}(r.PureComponent),z=a(56),K=a(57),V=["MangaKatana","Manga4Life","Guya"],F=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleInput=function(e){if("Enter"===e.key&&e.target.value){var t={title:e.target.value};r.runningQueries.clear(),r.props.searchHandler("",{}),r.setState({searching:!0},(function(){r.runSearchQuery(t)}))}},r.sourceQueryHelper=function(e,t,a){r.runningQueries.add(a);var n=!1;t.searchRequest(Object(K.a)({},a.query),a.metadata).then((function(A){if(r.runningQueries.has(a)&&r.inputRef.current){var c=(A.results||[]).map((function(a){return a.mangaUrlizer=t.getMangaUrl,a.slug=a.id,a.coverUrl=a.image,a.mangaTitle=a.title.text,a.source=t,a.sourceName=e,a})),i=r.props.searchResults[e];a.metadata=A.metadata,n=a.metadata&&c.length,r.props.searchHandler(a.query.title,Object(K.a)(Object(K.a)({},r.props.searchResults),{},Object(z.a)({},e,[].concat(Object(y.a)(i||[]),Object(y.a)(c)))))}})).finally((function(){r.runningQueries.has(a)&&r.inputRef.current&&(n?r.sourceQueryHelper(e,t,a):(r.runningQueries.delete(a),r.setState({searching:!!r.runningQueries.size})))}))},r.runSearchQuery=function(e){Object.entries(r.props.sources).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],A=a[1],c={source:A,query:e,metadata:void 0};r.sourceQueryHelper(n,A,c)}))},r.componentDidMount=function(){r.props.setPath("Search"),setTimeout((function(){r.inputRef.current&&r.inputRef.current.focus()}),100)},r.state={searching:!1},r.inputRef=n.a.createRef(),r.runningQueries=new Set,r}return Object(o.a)(a,[{key:"render",value:function(){var e=[];return Object.entries(this.props.searchResults).forEach((function(t){var a=Object(i.a)(t,2),r=a[0],n=a[1];n&&n.length&&(e.push(Object(v.jsx)(m,{text:r,subText:(V.includes(r)?"Recommended - ":"")+"".concat(n.length," result(s)")},"search-".concat(r))),e.push(Object(v.jsx)(Q,{children:n.map((function(e){return Object(v.jsx)(G,{mangaUrlizer:e.mangaUrlizer,slug:e.slug,coverUrl:e.coverUrl,mangaTitle:e.mangaTitle,sourceName:e.sourceName,source:e.source},"search-"+r.name+e.id)}))},"search-".concat(r,"-carousel"))))})),Object(v.jsxs)(_,{children:[Object(v.jsx)("input",{className:"w-full mt-8 px-4 py-4 text-xl sm:text-2xl text-black bg-gray-200 dark:text-white dark:bg-gray-800 rounded-md focus:outline-none shadow-md",ref:this.inputRef,onKeyPress:this.handleInput,type:"text",defaultValue:this.props.searchQuery,placeholder:"Search..."}),e.length?Object(v.jsx)(_,{children:e}):void 0,this.state.searching?Object(v.jsx)(U,{}):e.length?void 0:this.props.searchQuery?Object(v.jsx)(m,{text:"No results.",subText:"Sorry 'bout that."},"results"):void 0]})}}]),a}(r.PureComponent),W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).updateItems=function(){return L.getAllUnpinnedSeries().then((function(e){r.ref.current&&r.setState({items:e,ready:!0})}))},r.componentDidMount=function(){r.props.setPath("History"),r.updateItems()},r.ref=n.a.createRef(),r.state={items:[],ready:!1},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(_,{children:[Object(v.jsx)(m,{text:"History",subText:"This includes the last ".concat(L.max," things you've clicked on (").concat(this.state.items.length," so far)"),ref:this.ref}),this.state.ready?Object(v.jsx)(_,{children:this.state.items.map((function(t){return Object(v.jsx)(G,{mangaUrlizer:H(t.url),slug:t.slug,coverUrl:t.coverUrl,mangaTitle:t.title,sourceName:t.source,source:g.default[t.source],showRemoveFromHistory:!0,storageCallback:e.updateItems},"history-".concat(t.timestamp,"-").concat(t.slug,"-").concat(t.source))}))},"history"):Object(v.jsx)(U,{})]})}}]),a}(r.PureComponent),X=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).updateItems=function(){return L.getAllPinnedSeries().then((function(e){r.ref.current&&r.setState({items:e,ready:!0})}))},r.componentDidMount=function(){r.props.setPath("Saved"),r.updateItems()},r.ref=n.a.createRef(),r.state={items:[],ready:!1},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(_,{children:[Object(v.jsx)(m,{text:"Saved",subText:'This includes stuff you\'ve "hearted"',ref:this.ref}),this.state.ready?Object(v.jsx)(_,{children:this.state.items.map((function(t){return Object(v.jsx)(G,{mangaUrlizer:H(t.url),slug:t.slug,coverUrl:t.coverUrl,mangaTitle:t.title,sourceName:t.source,source:g.default[t.source],storageCallback:e.updateItems},"saved-".concat(t.timestamp,"-").concat(t.slug,"-").concat(t.source))}))}):Object(v.jsx)(U,{})]})}}]),a}(r.PureComponent),Y=a(108),Z=a.n(Y),$="hentai",ee="enabled",te=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.props.setPath("Settings"),B.on("ready",(function(){r.widgetRef.current&&(r.widget.attach(r.widgetRef.current.id),r.setState({ready:!0}))}))},r.hentaiToggle=function(e){r.setState({hentaiEnabled:e},(function(){e?localStorage.setItem($,ee):localStorage.removeItem($),window.location.reload()}))},r.widgetRef=n.a.createRef(),localStorage.getItem($)&&localStorage.setItem($,ee),r.widget=new Z.a(B,{skipInitial:!0,modalBackdrop:!1,leaveOpen:!0}),r.state={ready:!1,hentaiEnabled:localStorage.getItem($)},r}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)(_,{children:[Object(v.jsx)(m,{text:"Settings"}),Object(v.jsx)(m,{text:"Hentai Mode",textSize:"text-2xl",subText:"For the horny"}),Object(v.jsx)("div",{className:"h-full w-full mb-5 items-center sm:items-start mt-5 flex flex-wrap place-content-center sm:place-content-start",children:Object(v.jsxs)(h.e,{checked:this.state.hentaiEnabled,onChange:this.hentaiToggle,className:p(this.state.hentaiEnabled?"bg-blue-600 dark:bg-blue-500":"bg-gray-700 dark:bg-gray-200","relative inline-flex items-center h-6 rounded-full w-11 focus:outline-none"),children:[Object(v.jsx)("span",{className:"sr-only",children:"Enable notifications"}),Object(v.jsx)("span",{className:p(this.state.hentaiEnabled?"translate-x-6":"translate-x-1","inline-block w-4 h-4 transform bg-white dark:bg-gray-900 rounded-full")})]})}),Object(v.jsx)(m,{text:"Remote Storage",textSize:"text-2xl",subText:"[Experimental] Synchronize your reading history across different devices"}),Object(v.jsxs)("div",{className:"h-full w-full items-center sm:items-start mt-5 flex flex-wrap place-content-center sm:place-content-start",children:[Object(v.jsx)("div",{id:"remote-storage-widget",ref:this.widgetRef}),this.state.ready?void 0:Object(v.jsx)(U,{})]})]})}}]),a}(r.PureComponent),ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)(_,{children:Object(v.jsx)(m,{text:"Page not found!",subText:"You broke me!"})})}}]),a}(r.PureComponent),re={Discover:{href:"/",inNav:!0,component:function(e){return Object(v.jsx)(J,{discover:e.state.discover,setPath:e.setPath})}},Search:{href:"/search",inNav:!0,component:function(e){return Object(v.jsx)(F,{searchResults:e.state.searchResults,searchQuery:e.state.searchQuery,searchHandler:e.searchHandler,sources:e.sources,setPath:e.setPath})}},History:{href:"/history",inNav:!0,component:function(e){return Object(v.jsx)(W,{setPath:e.setPath})}},Saved:{href:"/saved",inNav:!0,component:function(e){return Object(v.jsx)(X,{setPath:e.setPath})}},Settings:{href:"/settings",inNav:!0,component:function(e){return Object(v.jsx)(te,{setPath:e.setPath})}}},ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsx)(r.Fragment,{children:Object(v.jsxs)(S.c,{children:[Object.values(re).map((function(t){return Object(v.jsx)(S.a,{exact:!0,path:t.href,children:t.component(e.props.app)},t.href)})),Object(v.jsx)(S.a,{children:Object(v.jsx)(ae,{})})]})})}}]),a}(r.PureComponent),Ae=Object(S.f)(ne),ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).setPath=function(e){r.setState({current:e})},r.searchHandler=function(e,t){r.setState({searchQuery:e,searchResults:t})},r.initializeDiscoverItems=function(){Object.entries(r.sources).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];n.getHomePageSections((function(e){e.title.startsWith(a)||(e.title="".concat(a," - ").concat(e.title)),e.source=n,e.mangaUrlizer=n.getMangaUrl,e.sourceName=a,e.items&&e.items.length&&r.setState({discover:new Set(r.state.discover).add(e)})}))}))},r.componentDidMount=function(){!function(){for(var e=0,t=Object.entries(localStorage);e<t.length;e++){var a=Object(i.a)(t[e],2),r=a[0],n=a[1];r.startsWith("remotestorage")&&"undefined"===n&&localStorage.removeItem(r)}}(),r.initializeDiscoverItems()},r.state={discover:new Set,searchQuery:"",searchResults:new Set,current:void 0},r.sources=g.default,r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(h.b,{as:"nav",className:"bg-transparent",children:[Object(v.jsx)("div",{className:"max-w-6xl mx-auto px-2 md:px-0 lg:px-0",children:Object(v.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(v.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(v.jsx)(h.b.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white focus:outline-none",children:function(e){var t=e.open;return Object(v.jsxs)(r.Fragment,{children:[Object(v.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(v.jsx)(f.h,{className:"block h-6 w-6","aria-hidden":"true"}):Object(v.jsx)(f.e,{className:"block h-6 w-6","aria-hidden":"true"})]})}})}),Object(v.jsxs)("div",{className:"flex-1 flex sm:ml-3 items-center justify-center sm:items-stretch sm:justify-start",children:[Object(v.jsx)("div",{className:"flex-shrink-0 flex items-center"}),Object(v.jsx)("div",{className:"hidden sm:block",children:Object(v.jsx)("div",{className:"flex space-x-4",children:Object.keys(re).map((function(t){var a=t;if(t=re[a],re[a].inNav)return Object(v.jsx)(d.b,{to:t.href,onClick:function(){e.setState({current:a})},className:p(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","px-3 py-2 rounded-md text-md font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})]}),Object(v.jsxs)("div",{className:"absolute sm:mr-3 inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(v.jsx)(k,{}),Object(v.jsx)(w,{}),Object(v.jsx)(j,{})]})]})}),Object(v.jsx)(h.f,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(v.jsx)(h.b.Item,{as:"div",className:"sm:hidden px-2 pt-2 pb-3 space-y-1",children:Object.keys(re).map((function(t){var a=t;if(t=re[a],re[a].inNav)return Object(v.jsx)(d.b,{to:t.href,onClick:function(){e.setState({current:a})},className:p(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})]}),Object(v.jsx)(Ae,{app:this})]})}}]),a}(r.Component);c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(ce,{})}),document.getElementById("root"))},26:function(e,t,a){"use strict";a.r(t);var r=a(42),n=a(36),A=a(43),c=a(44),i=a(45),s=a(31),o=a(38),u=a.n(o),l={};localStorage.getItem("hentai")?l.NHentai=new(Object(s.CubariSourceMixin)(r.NHentai,r.NHentaiInfo,(function(e){return"https://cubari.moe/read/nhentai/".concat(e,"/")})))(u.a):(l.Guya=new(Object(s.CubariSourceMixin)(A.Guya,A.GuyaInfo,(function(e){return"https://guya.moe/read/manga/".concat(e,"/")})))(u.a),l.MangaLife=new(Object(s.CubariSourceMixin)(i.MangaLife,i.MangaLifeInfo,(function(e){return"https://cubari.moe/ml/".concat(e,"/")})))(u.a),l.MangaKatana=new(Object(s.CubariSourceMixin)(n.MangaKatana,n.MangaKatanaInfo,(function(e){return"https://cubari.moe/mk/".concat(n.MK_DOMAIN,"/manga/").concat(e,"/")})))(u.a),l.MangaDex=new(Object(s.CubariSourceMixin)(c.MangaDex,c.MangaDexInfo,(function(e){return"https://cubari.moe/read/mangadex/".concat(e,"/")})))(u.a)),t.default=l},31:function(e,t,a){"use strict";a.r(t),a.d(t,"CubariSourceMixin",(function(){return o}));var r=a(6),n=a(8),A=a(7),c=a(55),i=a.n(c),s=new Set(["cookie","user-agent"]);function o(e,t,a){return function(e){Object(n.a)(i,e);var c=Object(A.a)(i);function i(){var e;Object(r.a)(this,i);for(var n=arguments.length,A=new Array(n),s=0;s<n;s++)A[s]=arguments[s];return(e=c.call.apply(c,[this].concat(A))).getMangaUrl=a,e.getSourceDetails=function(){return t},e}return i}(e)}i.a.interceptors.request.use((function(e){var t;return e.url="https://cubari-cors.herokuapp.com/".concat(e.url).concat(null!==(t=e.params)&&void 0!==t?t:""),Object.keys(e.headers).forEach((function(t){s.has(t.toLowerCase())&&delete e.headers[t]})),e})),i.a.interceptors.response.use((function(e){return e}))},36:function(e,t,a){"use strict";a.r(t),a.d(t,"MK_DOMAIN",(function(){return d})),a.d(t,"MangaKatanaInfo",(function(){return f})),a.d(t,"MangaKatana",(function(){return g}));var r=a(2),n=a.n(r),A=a(3),c=a(6),i=a(9),s=a(8),o=a(7),u=a(5),l=a(18),d="https://mangakatana.com",p="GET",h={"content-type":"application/x-www-form-urlencoded"},f={version:"1.0.6",name:"MangaKatana",icon:"icon.png",author:"Netsky",authorWebsite:"https://github.com/TheNetsky",description:"Extension that pulls manga from MangaKatana.",hentaiSource:!1,websiteBaseURL:d,sourceTags:[{text:"Notifications",type:u.TagType.GREEN}]},g=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(d,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(d,"/manga/"),method:p,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,A=this.cheerio.load(r.data),e.abrupt("return",Object(l.parseMangaDetails)(A,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(d,"/manga/"),method:p,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,A=this.cheerio.load(r.data),e.abrupt("return",Object(l.parseChapters)(A,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(d,"/manga/").concat(t,"/").concat(a),method:p}),e.next=3,this.requestManager.schedule(r,1);case 3:return A=e.sent,c=this.cheerio.load(A.data,{xmlMode:!1}),e.abrupt("return",Object(l.parseChapterDetails)(c,t,a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(A.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(d,"/genres"),method:p}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",Object(l.parseTags)(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a,r){var A,c,i,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=1,c={ids:[],loadMore:!0};case 2:if(!c.loadMore){e.next=12;break}return i=createRequestObject({url:"".concat(d,"/latest/page/").concat(A++),method:p}),e.next=6,this.requestManager.schedule(i,1);case 6:s=e.sent,o=this.cheerio.load(s.data),(c=Object(l.parseUpdatedManga)(o,a,r)).ids.length>0&&t(createMangaUpdates({ids:c.ids})),e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A,c,i,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"hot_update",title:"Hot Updates"}),r=createHomeSection({id:"hot_manga",title:"Hot Manga",view_more:!0}),A=createHomeSection({id:"latest_updates",title:"Latest Updates",view_more:!0}),c=[a,r,A],i=createRequestObject({url:d,method:p}),e.next=7,this.requestManager.schedule(i,1);case 7:s=e.sent,o=this.cheerio.load(s.data),Object(l.parseHomeSections)(o,c,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c,i,s,o,u,h;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===(A=a)||void 0===A?void 0:A.page)&&void 0!==r?r:1,i="",e.t0=t,e.next="hot_manga"===e.t0?5:"latest_updates"===e.t0?7:9;break;case 5:return i="/new-manga/page/".concat(c),e.abrupt("break",11);case 7:return i="/latest/page/".concat(c),e.abrupt("break",11);case 9:return e.abrupt("return",Promise.resolve(null));case 11:return s=createRequestObject({url:"".concat(d),method:p,param:i}),e.next=14,this.requestManager.schedule(s,1);case 14:return o=e.sent,u=this.cheerio.load(o.data),h=Object(l.parseViewMore)(u,t),a=Object(l.isLastPage)(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:h,metadata:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c,i,s,o,u,f;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===(A=a)||void 0===A?void 0:A.page)&&void 0!==r?r:1,i=Object(l.generateSearch)(t),s=createRequestObject({url:d,method:p,headers:h,param:"/page/".concat(c,"?search=").concat(i,"&search_by=book_name")}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),f=Object(l.parseSearch)(u),a=Object(l.isLastPage)(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:f,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(u.Source)},37:function(e,t,a){"use strict";a.r(t),a.d(t,"parseManganeloMangaDetails",(function(){return A})),a.d(t,"parseManganeloChapters",(function(){return c})),a.d(t,"parseManganeloChapterDetails",(function(){return i}));var r=a(4),n=a(5),A=function(e,t){var a,A,c,i,s,o=e(".panel-story-info"),u=null!==(a=e(".img-loading",o).attr("title"))&&void 0!==a?a:"",l=null!==(A=e(".img-loading",o).attr("src"))&&void 0!==A?A:"",d=e(".variations-tableInfo",o),p="",h="",f=n.MangaStatus.ONGOING,g=[u],v=0,m="",b=[createTagSection({id:"0",label:"genres",tags:[]})],x=Object(r.a)(e("tr",d).toArray());try{for(x.s();!(s=x.n()).done;){var j=s.value;if(e(j).find(".info-alternative").length>0){var y,O=e("h2",d).text().split(/,|;/),w=Object(r.a)(O);try{for(w.s();!(y=w.n()).done;){var k=y.value;g.push(k.trim())}}catch(L){w.e(L)}finally{w.f()}}else if(e(j).find(".info-author").length>0){var S=e(".table-value",j).find("a").toArray();p=e(S[0]).text(),S.length>1&&(h=e(S[1]).text())}else if(e(j).find(".info-status").length>0)f="Ongoing"==e(".table-value",j).text()?n.MangaStatus.ONGOING:n.MangaStatus.COMPLETED;else if(e(j).find(".info-genres").length>0){var M,N=e(".table-value",j).find("a").toArray(),D=[],T=Object(r.a)(N);try{for(T.s();!(M=T.n()).done;){var C=e(M.value).text();C.toLowerCase().includes("smut")&&!0,D.push(C)}}catch(L){T.e(L)}finally{T.f()}b[0].tags=D.map((function(e){return createTag({id:e,label:e})}))}}}catch(L){x.e(L)}finally{x.f()}d=e(".story-info-right-extent",o);var E,R=Object(r.a)(e("p",d).toArray());try{for(R.s();!(E=R.n()).done;){var I=E.value;if(e(I).find(".info-time").length>0)m=new Date(e(".stre-value",I).text().replace(/(-*(AM)*(PM)*)/g,"")).toDateString();else e(I).find(".info-view").length>0&&(v=Number(e(".stre-value",I).text().replace(/,/g,"")))}}catch(L){R.e(L)}finally{R.f()}c=Number(e("[property=v\\:average]",d).text()),i=Number(e("[property=v\\:votes]",d).text());var B=e(".panel-story-info-description",o).text();return createManga({id:t,titles:g,image:l,rating:Number(c),status:f,artist:h,author:p,tags:b,views:v,follows:i,lastUpdate:m,desc:B,hentai:!1})},c=function(e,t){var a,A=e(".row-content-chapter",".body-site"),c=[],i=Object(r.a)(e("li",A).toArray());try{for(i.s();!(a=i.n()).done;){var s,o,u,l,d,p=a.value,h=null!==(s=e("a",p).attr("href"))&&void 0!==s?s:"",f=null!==(o=e("a",p).text())&&void 0!==o?o:"",g=Number(null!==(u=(null!==(l=/Chapter (\d*)/g.exec(f))&&void 0!==l?l:[])[1])&&void 0!==u?u:""),v=new Date(null!==(d=e(".chapter-time",p).attr("title"))&&void 0!==d?d:"");c.push(createChapter({id:h,mangaId:t,name:f,langCode:n.LanguageCode.ENGLISH,chapNum:g,time:v}))}}catch(m){i.e(m)}finally{i.f()}return c},i=function(e,t,a){var r=Array.from(e("img",".container-chapter-reader").toArray(),(function(t){var a;return null!==(a=e(t).attr("src"))&&void 0!==a?a:""}));return createChapterDetails({id:a,mangaId:t,pages:r,longStrip:!1})}},42:function(e,t,a){"use strict";a.r(t),a.d(t,"NHentaiInfo",(function(){return h})),a.d(t,"NHentai",(function(){return f}));var r=a(2),n=a.n(r),A=a(4),c=a(3),i=a(6),s=a(9),o=a(8),u=a(7),l=a(5),d="https://nhentai.net",p="https://img-proxy.cubari.moe/",h={version:"2.0.2",name:"nHentai",description:"Extension which pulls 18+ content from nHentai. (Literally all of it. We know why you're here)",author:"VibrantClouds",authorWebsite:"https://github.com/conradweiser",icon:"logo.png",hentaiSource:!1,sourceTags:[{text:"18+",type:l.TagType.YELLOW}],websiteBaseURL:d},f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"convertLanguageToCode",value:function(e){switch(e.toLowerCase()){case"english":return l.LanguageCode.ENGLISH;case"japanese":return l.LanguageCode.JAPANESE;case"chinese":return l.LanguageCode.CHINEESE;default:return l.LanguageCode.UNKNOWN}}},{key:"getMangaDetails",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,s,o,u,l,h,f,g,v,m,b,x,j,y,O,w,k,S,M,N,D,T,C;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=createRequestObject({url:"".concat(d,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(u,1);case 3:l=e.sent,h=this.cheerio.load(l.data),h("[itemprop=name]"),f=null!==(a=h("[itemprop=image]").attr("content"))&&void 0!==a?a:"",g=null!==(r=h("[itemprop=name]").attr("content"))&&void 0!==r?r:"",v=[createTagSection({id:"0",label:"tag",tags:[]})],m=null!==(c=null===(i=h('meta[name="twitter:description"]').attr("content"))||void 0===i?void 0:i.split(","))&&void 0!==c?c:[],v[0].tags=m.map((function(e){return createTag({id:e.trim(),label:e.trim()})})),g=g.replace(/(\[.+?\])/g,"").trim(),b=[g],x=h("#info"),j=null!==(s=h("h1",x).text())&&void 0!==s?s:"",y=null!==(o=h("h2",x).text())&&void 0!==o?o:"",j&&b.push(j.trim()),y&&b.push(y.trim()),O=h("#info-block"),w="","",k=Object(A.a)(h(".tag-container",O).toArray());try{for(k.s();!(S=k.n()).done;)M=S.value,h(M).text().indexOf("Artists")>-1?(N=h("a",M).text(),w=N.substring(0,N.search(/\d/))):h(M).text().indexOf("Languages")>-1&&((D=h("a",M)).toArray().length>1?(T=h(D.toArray()[1]).text(),T.substring(0,T.indexOf(" ("))):(C=D.text(),C.substring(0,C.indexOf(" ("))))}catch(n){k.e(n)}finally{k.f()}return 1,!0,e.abrupt("return",createManga({id:t,titles:b,image:f?"".concat(p).concat(f):"",rating:0,status:1,artist:w,tags:v,hentai:!1}));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,s,o,u,p,h,f,g,v,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=createRequestObject({url:"".concat(d,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(c,1);case 3:i=e.sent,s=this.cheerio.load(i.data),o=[],u=null!==(a=s("[itemprop=name]").attr("content"))&&void 0!==a?a:"",p=new Date(null!==(r=s("time").attr("datetime"))&&void 0!==r?r:""),u=u.replace(/(\[.+?\])/g,"").trim(),h=l.LanguageCode.UNKNOWN,f=Object(A.a)(s(".tag-container").toArray()),e.prev=11,f.s();case 13:if((g=f.n()).done){e.next=32;break}if(v=g.value,!(s(v).text().indexOf("Languages")>-1)){e.next=30;break}if(!(m=s("span",v).text()).includes("japanese")){e.next=22;break}return h=l.LanguageCode.JAPANESE,e.abrupt("break",32);case 22:if(!m.includes("english")){e.next=27;break}return h=l.LanguageCode.ENGLISH,e.abrupt("break",32);case 27:if(!m.includes("chinese")){e.next=30;break}return h=l.LanguageCode.CHINEESE,e.abrupt("break",32);case 30:e.next=13;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(11),f.e(e.t0);case 37:return e.prev=37,f.f(),e.finish(37);case 40:return o.push(createChapter({id:"1",mangaId:t,name:u,chapNum:1,time:p,langCode:h})),e.abrupt("return",o);case 42:case"end":return e.stop()}}),e,this,[[11,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,i,s,o,u,l,p,h,f,g,v,m,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(d,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:c=e.sent,i=this.cheerio.load(c.data),s=[],o=i("#thumbnail-container"),i(".thumb-container",o).length,u=i("img",o).attr("data-src"),l=parseInt(null===u||void 0===u?void 0:u.match(/.*\/(\d*)\//)[1]),p=1,h=Object(A.a)(i(i("img",".thumb-container")).toArray());try{for(h.s();!(f=h.n()).done;)v=f.value,m=null===(g=i(v).attr("data-src"))||void 0===g?void 0:g.match(/\.([png|jpg]{3,3})/g)[0],s.push("https://i.nhentai.net/galleries/".concat(l,"/").concat(p).concat(m)),p++}catch(n){h.e(n)}finally{h.f()}return b=createChapterDetails({id:a,mangaId:t,pages:s,longStrip:!1}),e.abrupt("return",b);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,i,s,o,u,l,h,f,g,v,m,b,x,j,y,O,w,k,S,M,N,D,T,C;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(r=a)&&void 0!==r?r:{},s=null!==(c=a.page)&&void 0!==c?c:1,o=!1,!1!==t.hStatus&&t.title){e.next=5;break}return e.abrupt("return",createPagedResults({results:[]}));case 5:return u=void 0,(null===(i=t.title)||void 0===i?void 0:i.match(/\d{5,6}/))?(u=createRequestObject({url:"".concat(d,"/g/").concat(t.title),method:"GET"}),o=!0):(t.title=null===(l=t.title)||void 0===l?void 0:l.trim(),t.title=t.title.replace(/ /g,"+")+"+",u=createRequestObject({url:"".concat(d,"/search/?q=").concat(t.title,"&page=").concat(s),method:"GET"}),o=!1),e.next=9,this.requestManager.schedule(u,1);case 9:if(h=e.sent,f=this.cheerio.load(h.data),g=[],!o){e.next=21;break}return m=f("#bigcontainer"),b=f("a",m).attr("href"),x=parseInt(null===b||void 0===b?void 0:b.match(/g\/(\d*)\/\d/)[1]),j=(j=null!==(v=f("[itemprop=name]").attr("content"))&&void 0!==v?v:"").replace(/(\[.+?\])/g,"").trim(),y=f("[itemprop=image]").attr("content"),g.push(createMangaTile({id:x.toString(),title:createIconText({text:j}),image:y?"".concat(p).concat(y):""})),e.abrupt("return",createPagedResults({results:g}));case 21:O=f(".index-container"),w=Object(A.a)(f(".gallery",O).toArray());try{for(w.s();!(k=w.n()).done;)M=k.value,N=f(M),void 0==(D=f("img",N).attr("data-src"))&&(D="http:"+f("img",N).attr("src")),T=f(".caption",N).text(),C=null===(S=f("a",N).attr("href"))||void 0===S?void 0:S.match(/\/(\d*)\//),T=T.replace(/(\[.+?\])/g,"").trim(),g.push(createMangaTile({id:C[1],title:createIconText({text:T}),image:D?"".concat(p).concat(D):""}))}catch(n){w.e(n)}finally{w.f()}return f("a.last")?a.page=++s:a=void 0,e.abrupt("return",createPagedResults({results:g,metadata:a}));case 26:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,s,o,u,l,h,f,g,v,m,b,x,j,y,O,w,k,S,M,N,D;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular",title:"Popular Now"}),r=createHomeSection({id:"new",title:"New Uploads",view_more:!0}),t(a),t(r),c=createRequestObject({url:"".concat(d),method:"GET"}),e.next=7,this.requestManager.schedule(c,1);case 7:i=e.sent,s=[],o=[],u=this.cheerio.load(i.data),l=u(".index-container").first(),h=Object(A.a)(u(".gallery",l).toArray());try{for(h.s();!(f=h.n()).done;)v=f.value,m=u(v),void 0==(b=u("img",m).attr("data-src"))&&(b="http:"+u("img",m).attr("src")),x=(x=u(".caption",m).text()).replace(/(\[.+?\])/g,"").trim(),j=null===(g=u("a",m).attr("href"))||void 0===g?void 0:g.match(/\/(\d*)\//),s.push(createMangaTile({id:j[1],title:createIconText({text:x}),image:b?"".concat(p).concat(b):""}))}catch(n){h.e(n)}finally{h.f()}a.items=s,t(a),l=u(".index-container").last(),y=Object(A.a)(u(".gallery",l).toArray());try{for(y.s();!(O=y.n()).done;)k=O.value,S=u(k),void 0==(M=u("img",S).attr("data-src"))&&(M="http:"+u("img",S).attr("src")),N=(N=u(".caption",S).text()).replace(/(\[.+?\])/g,"").trim(),D=null===(w=u("a",S).attr("href"))||void 0===w?void 0:w.match(/\/(\d*)\//),o.push(createMangaTile({id:D[1],title:createIconText({text:N}),image:M?"".concat(p).concat(M):""}))}catch(n){y.e(n)}finally{y.f()}r.items=o,t(r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,i,s,o,u,l,h,f,g,v,m,b,x,j,y;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(r=a)&&void 0!==r?r:{},i=null!==(c=a.page)&&void 0!==c?c:1,s=createRequestObject({url:"".concat(d,"/?page=").concat(i),method:"GET"}),e.next=5,this.requestManager.schedule(s,1);case 5:o=e.sent,u=this.cheerio.load(o.data),l=[],h=u(".index-container"),f=Object(A.a)(u(".gallery",h).toArray());try{for(f.s();!(g=f.n()).done;)m=g.value,b=u(m),void 0==(x=u("img",b).attr("data-src"))&&(x="http:"+u("img",b).attr("src")),j=(j=u(".caption",b).text()).replace(/(\[.+?\])/g,"").trim(),y=null===(v=u("a",b).attr("href"))||void 0===v?void 0:v.match(/\/(\d*)\//),l.push(createMangaTile({id:y[1],title:createIconText({text:j}),image:x?"".concat(p).concat(x):""}))}catch(t){f.e(t)}finally{f.f()}return u("a.last")?a.page=++i:a=void 0,e.abrupt("return",createPagedResults({results:l,metadata:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(l.Source)},43:function(e,t,a){"use strict";a.r(t),a.d(t,"GuyaInfo",(function(){return f})),a.d(t,"Guya",(function(){return g}));var r=a(17),n=a(2),A=a.n(n),c=a(3),i=a(6),s=a(9),o=a(8),u=a(7),l=a(5),d="https://guya.moe",p="".concat(d,"/api/series"),h="".concat(d,"/api/get_all_series/"),f={version:"1.1.1",name:"Guya",icon:"icon.png",author:"funkyhippo",authorWebsite:"https://github.com/funkyhippo",description:"Extension that pulls manga from guya.moe",language:"en",hentaiSource:!1,websiteBaseURL:d},g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"getMangaDetails",value:function(){var e=Object(c.a)(A.a.mark((function e(t){var a,r,n,c,i,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:h,method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(i in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,c=[],n)s=n[i],t.includes(s.slug)&&c.push(createManga({id:s.slug,titles:[i],image:"".concat(d,"/").concat(s.cover),rating:5,status:l.MangaStatus.ONGOING,artist:s.artist,author:s.author,desc:s.description}));return e.abrupt("return",c[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(c.a)(A.a.mark((function e(t){var a,r,n,c,i,s,o,u,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:"".concat(p,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(o in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,c=n.chapters,i=n.groups,s=[],c)for(d in(u=c[o]).groups)s.push(createChapter({id:"".concat(o).concat("|").concat(d),mangaId:t,chapNum:Number(o),langCode:l.LanguageCode.ENGLISH,name:u.title,volume:u.volume,group:i[d],time:new Date(1e3*Number(u.release_date[d]))}));return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(c.a)(A.a.mark((function e(t,a){var n,c,i,s,o,u,l,h;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(p,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=i.chapters,o=a.split("|"),u=Object(r.a)(o,2),l=u[0],h=u[1],e.abrupt("return",createChapterDetails({id:a,longStrip:!1,mangaId:t,pages:s[l].groups[h].map((function(e){return"".concat(d,"/media/manga/").concat(t,"/chapters/").concat(s[l].folder,"/").concat(h,"/").concat(e)}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(c.a)(A.a.mark((function e(t,a){var r,n,c,i,s,o,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:h,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=null!==(r=t.title)&&void 0!==r?r:"",o=Object.keys(i).filter((function(e){return e.toLowerCase().includes(s.toLowerCase())})),u=o.map((function(e){var t=i[e];return createMangaTile({id:t.slug,image:"".concat(d,"/").concat(t.cover),title:createIconText({text:e})})})),e.abrupt("return",createPagedResults({results:u}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(c.a)(A.a.mark((function e(t){var a,r,n,c,i,s,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"all_guya",title:"ALL GUYA"}),t(a),r=createRequestObject({url:h,method:"GET"}),e.next=5,this.requestManager.schedule(r,1);case 5:for(s in n=e.sent,c="string"===typeof n.data?JSON.parse(n.data):n.data,i=[],c)o=c[s],i.push(createMangaTile({id:o.slug,image:"".concat(d,"/").concat(o.cover),title:createIconText({text:s})}));a.items=i,t(a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(c.a)(A.a.mark((function e(t,a,r){var n,c,i,s,o,u,l,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:h,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:for(o in c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=[],i)u=i[o],l=new Date(1e3*u.last_updated),d=u.slug,l>=a&&r.includes(d)&&s.push(d);t(createMangaUpdates({ids:s}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getMangaShareUrl",value:function(e){return"".concat(d,"/read/manga/").concat(e,"/")}}]),a}(l.Source)},44:function(e,t,a){"use strict";a.r(t),a.d(t,"MangaDexInfo",(function(){return f})),a.d(t,"MangaDex",(function(){return g}));var r=a(2),n=a.n(r),A=a(4),c=a(3),i=a(6),s=a(9),o=a(8),u=a(7),l=a(5),d="https://mangadex.org",p="https://api.mangadex.org",h="https://uploads.mangadex.org/covers",f={author:"nar1n",description:"Extension that pulls manga from MangaDex",icon:"icon.png",name:"MangaDex",version:"1.2.0",authorWebsite:"https://github.com/nar1n",websiteBaseURL:d,hentaiSource:!1,language:l.LanguageCode.ENGLISH,sourceTags:[{text:"Recommended",type:l.TagType.BLUE}]},g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),A=0;A<r;A++)n[A]=arguments[A];return(e=t.call.apply(t,[this].concat(n))).languageMapping={en:"gb","pt-br":"pt",ru:"ru",fr:"fr","es-la":"es",pl:"pl",tr:"tr",it:"it",es:"es",id:"id",vi:"vn",hu:"hu",zh:"cn",ar:"sa",de:"de","zh-hk":"hk",ca:"es",th:"th",bg:"bg",fa:"ir",uk:"ua",mn:"mn",he:"il",ro:"ro",ms:"my",tl:"ph",ja:"jp",ko:"kr",hi:"in",my:"my",cs:"cz",pt:"pt",nl:"nl",sv:"se",bn:"bd",no:"no",lt:"lt",sr:"rs",da:"dk",fi:"fi"},e.requestManager=createRequestManager({requestsPerSecond:4,requestTimeout:15e3}),e}return Object(s.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(d,"/title/").concat(e)}},{key:"getMangaUUIDs",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,s,o,u,l,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.length,r=0,c={};case 3:return i=createRequestObject({url:"".concat(p,"/legacy/mapping"),method:"POST",headers:{"content-type":"application/json"},data:{type:"manga",ids:t.slice(r,r+500).map((function(e){return Number(e)}))}}),r+=500,e.next=8,this.requestManager.schedule(i,1);case 8:s=e.sent,o="string"===typeof s.data?JSON.parse(s.data):s.data,u=Object(A.a)(o);try{for(u.s();!(l=u.n()).done;)d=l.value,c[d.attributes.legacyId]=d.attributes.newId}catch(n){u.e(n)}finally{u.f()}if(!(r>=a)){e.next=14;break}return e.abrupt("break",16);case 14:e.next=3;break;case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMDHNodeURL",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(p,"/at-home/server/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,A="string"===typeof r.data?JSON.parse(r.data):r.data,e.abrupt("return",A.baseUrl);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCustomListRequestURL",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,A,c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=createRequestObject({url:"".concat(p,"/list/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(A,1);case 3:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,e.abrupt("return","".concat(p,"/manga?limit=100&contentRating[]=safe&includes[]=cover_art&ids[]=").concat((null!==(a=null===(r=i.data)||void 0===r?void 0:r.relationships)&&void 0!==a?a:i.relationships).filter((function(e){return"manga"==e.type})).map((function(e){return e.id})).join("&ids[]=")));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMangaDetails",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,s,o,u,d,f,g,v,m,b,x,j,y,O,w,k,S,M,N,D,T=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:d=e.sent,u=d[t],e.next=8;break;case 7:u=t;case 8:return f=createRequestObject({url:"".concat(p,"/manga/").concat(u,"?includes[]=author&includes[]=artist&includes[]=cover_art"),method:"GET"}),e.next=11,this.requestManager.schedule(f,1);case 11:g=e.sent,v="string"===typeof g.data?JSON.parse(g.data):g.data,m=v.attributes,b=[m.title[Object.keys(m.title)[0]]].concat(m.altTitles.map((function(e){return T.decodeHTMLEntity(e[Object.keys(e)[0]])}))),x=this.decodeHTMLEntity(m.description.en).replace(/\[\/{0,1}[bus]\]/g,""),j=l.MangaStatus.COMPLETED,"ongoing"==m.status&&(j=l.MangaStatus.ONGOING),y=[],O=Object(A.a)(m.tags);try{for(k=function(){var e=w.value,t=e.attributes.name;y.push(createTag({id:e.id,label:Object.keys(t).map((function(e){return t[e]}))[0]}))},O.s();!(w=O.n()).done;)k()}catch(n){O.e(n)}finally{O.f()}return S=(null!==(a=null===(r=v.data)||void 0===r?void 0:r.relationships)&&void 0!==a?a:v.relationships).filter((function(e){return"author"==e.type})).map((function(e){return e.attributes.name})).join(", "),M=(null!==(c=null===(i=v.data)||void 0===i?void 0:i.relationships)&&void 0!==c?c:v.relationships).filter((function(e){return"artist"==e.type})).map((function(e){return e.attributes.name})).join(", "),N=(null!==(s=null===(o=v.data)||void 0===o?void 0:o.relationships)&&void 0!==s?s:v.relationships).filter((function(e){return"cover_art"==e.type})).map((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.fileName}))[0],D=N?"".concat(h,"/").concat(u,"/").concat(N):"https://mangadex.org/_nuxt/img/cover-placeholder.d12c3c5.jpg",e.abrupt("return",createManga({id:t,titles:b,image:D,author:S,artist:M,desc:x,rating:5,status:j,tags:[createTagSection({id:"tags",label:"Tags",tags:y})]}));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,i,s,o,u,l,d,h,f,g,v,m,b,x,j,y,O,w;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:c=[],i=0;case 10:return o=createRequestObject({url:"".concat(p,"/manga/").concat(a,"/feed?limit=500&offset=").concat(i,"&includes[]=scanlation_group"),method:"GET"}),e.next=14,this.requestManager.schedule(o,1);case 14:if(u=e.sent,l="string"===typeof u.data?JSON.parse(u.data):u.data,i+=500,void 0!==(d=null!==(s=l.data)&&void 0!==s?s:l.results)){e.next=20;break}throw new Error("Failed to parse json results for ".concat(a));case 20:h=Object(A.a)(d);try{for(h.s();!(f=h.n()).done;)g=f.value,v=g.id,m=g.attributes,b=this.decodeHTMLEntity(m.title),x=Number(null===m||void 0===m?void 0:m.chapter),j=Number(null===m||void 0===m?void 0:m.volume),y=m.translatedLanguage,y=Object.keys(this.languageMapping).includes(y)?this.languageMapping[m.translatedLanguage]:"_unknown",O=new Date(m.publishAt),w=g.relationships.filter((function(e){return"scanlation_group"==e.type})).map((function(e){return e.attributes.name})).join(", "),c.push(createChapter({id:v,mangaId:t,name:b,chapNum:x,volume:j,langCode:y,group:w,time:O}))}catch(n){h.e(n)}finally{h.f()}if(!(l.total<=i)){e.next=24;break}return e.abrupt("break",26);case 24:e.next=10;break;case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,A,c,i,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.includes("-")){e.next=2;break}throw new Error("OLD ID: PLEASE REFRESH AND CLEAR ORPHANED CHAPTERS");case 2:return e.next=4,this.getMDHNodeURL(a);case 4:return r=e.sent,A=createRequestObject({url:"".concat(p,"/chapter/").concat(a),method:"GET"}),e.next=8,this.requestManager.schedule(A,1);case 8:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=i.attributes,o=s.map((function(e){return"".concat(r,"/data/").concat(s.hash,"/").concat(e)})),e.abrupt("return",createChapterDetails({id:a,mangaId:t,pages:o,longStrip:!1}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,i,s,o,u,l,d,f,g,v,m,b,x,j,y,O;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,o=[],u=createRequestObject({url:"".concat(p,"/manga?title=").concat(encodeURIComponent(null!==(c=t.title)&&void 0!==c?c:""),"&limit=100&offset=").concat(s,"&contentRating[]=safe&includes[]=cover_art"),method:"GET"}),e.next=5,this.requestManager.schedule(u,1);case 5:if(200==(l=e.sent).status){e.next=8;break}return e.abrupt("return",createPagedResults({results:o}));case 8:if(d="string"===typeof l.data?JSON.parse(l.data):l.data,void 0!==(f=null!==(i=d.data)&&void 0!==i?i:d.results)){e.next=12;break}throw new Error("Failed to parse json for the given search");case 12:g=Object(A.a)(f);try{for(g.s();!(v=g.n()).done;)m=v.value,b=m.id,x=m.attributes,j=this.decodeHTMLEntity(x.title[Object.keys(x.title)[0]]),y=m.relationships.filter((function(e){return"cover_art"==e.type})).map((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.fileName}))[0],O=void 0,O=y?"".concat(h,"/").concat(b,"/").concat(y,".256.jpg"):"https://mangadex.org/_nuxt/img/cover-placeholder.d12c3c5.jpg",o.push(createMangaTile({id:b,title:createIconText({text:j}),image:O}))}catch(n){g.e(n)}finally{g.f()}return e.abrupt("return",createPagedResults({results:o,metadata:{offset:s+100}}));case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,i,s,o,u=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=createRequestObject,e.next=3,this.getCustomListRequestURL("d434f5f1-ff90-4fa5-be7c-2c070da79120");case 3:for(e.t1=e.sent,e.t2={url:e.t1,method:"GET"},e.t3=(0,e.t0)(e.t2),e.t4=createHomeSection({id:"seasonal",title:"SEASONAL",view_more:!0}),e.t5={request:e.t3,section:e.t4},e.t6={request:createRequestObject({url:"".concat(p,"/manga?limit=20&&contentRating[]=safe&includes[]=cover_art"),method:"GET"}),section:createHomeSection({id:"popular",title:"POPULAR TITLES",view_more:!0})},e.t7={request:createRequestObject({url:"".concat(p,"/manga?limit=20&contentRating[]=safe&includes[]=cover_art&order[updatedAt]=desc"),method:"GET"}),section:createHomeSection({id:"recently_updated",title:"RECENTLY UPDATED TITLES",view_more:!0})},a=[e.t5,e.t6,e.t7],r=[],i=function(){var e=o[s];t(e.section),r.push(u.requestManager.schedule(e.request,1).then(function(){var a=Object(c.a)(n.a.mark((function a(r){var c,i,s,o,l,d,p,f,g,v,m,b;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i="string"===typeof r.data?JSON.parse(r.data):r.data,s=[],void 0!==(o=null!==(c=i.data)&&void 0!==c?c:i.results)){a.next=5;break}throw new Error("Failed to parse json results for section ".concat(e.section.title));case 5:l=Object(A.a)(o);try{for(l.s();!(d=l.n()).done;)p=d.value,f=p.id,g=p.attributes,v=u.decodeHTMLEntity(g.title[Object.keys(g.title)[0]]),m=p.relationships.filter((function(e){return"cover_art"==e.type})).map((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.fileName}))[0],b=void 0,b=m?"".concat(h,"/").concat(f,"/").concat(m,".256.jpg"):"https://mangadex.org/_nuxt/img/cover-placeholder.d12c3c5.jpg",s.push(createMangaTile({id:f,title:createIconText({text:v}),image:b}))}catch(n){l.e(n)}finally{l.f()}e.section.items=s,t(e.section);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()))},s=0,o=a;s<o.length;s++)i();return e.next=16,Promise.all(r);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,i,s,o,u,l,d,f,g,v,m,b,x,j,y,O,w,k;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,o=null!==(c=null===a||void 0===a?void 0:a.collectedIds)&&void 0!==c?c:[],u=[],l="",e.t0=t,e.next="seasonal"===e.t0?7:"popular"===e.t0?11:"recently_updated"===e.t0?13:15;break;case 7:return e.next=9,this.getCustomListRequestURL("8018a70b-1492-4f91-a584-7451d7787f7a");case 9:return l=e.sent,e.abrupt("break",15);case 11:return l="".concat(p,"/manga?limit=100&offset=").concat(s,"&contentRating[]=safe&contentRating[]=suggestive&includes[]=cover_art"),e.abrupt("break",15);case 13:return l="".concat(p,"/manga?limit=100&offset=").concat(s,"&contentRating[]=safe&contentRating[]=suggestive&includes[]=cover_art&order[updatedAt]=desc"),e.abrupt("break",15);case 15:return d=createRequestObject({url:l,method:"GET"}),e.next=18,this.requestManager.schedule(d,1);case 18:if(f=e.sent,g="string"===typeof f.data?JSON.parse(f.data):f.data,void 0!==(v=null!==(i=g.data)&&void 0!==i?i:g.results)){e.next=23;break}throw new Error("Failed to parse json results for getViewMoreItems");case 23:m=Object(A.a)(v);try{for(m.s();!(b=m.n()).done;)x=b.value,j=x.id,y=x.attributes,O=this.decodeHTMLEntity(y.title[Object.keys(y.title)[0]]),w=x.relationships.filter((function(e){return"cover_art"==e.type})).map((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.fileName}))[0],k=void 0,k=w?"".concat(h,"/").concat(j,"/").concat(w,".256.jpg"):"https://mangadex.org/_nuxt/img/cover-placeholder.d12c3c5.jpg",o.includes(j)||(u.push(createMangaTile({id:j,title:createIconText({text:O}),image:k})),o.push(j))}catch(n){m.e(n)}finally{m.f()}return e.abrupt("return",createPagedResults({results:u,metadata:{offset:s+100,collectedIds:o}}));case 26:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,i,s,o,u,l,d,h,f,g,v,m,b,x,j,y,O,w,k,S,M;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.filter((function(e){return!e.includes("-")})),i={},0==c.length){e.next=7;break}return e.next=5,this.getMangaUUIDs(c);case 5:for(i=e.sent,s=0,o=Object.keys(i);s<o.length;s++)u=o[s],i[i[u]]=u;case 7:l=0,d=100,h=!0,f=[],g=[],v=a.toISOString().split(".")[0];case 13:if(!h){e.next=33;break}return b=createRequestObject({url:"".concat(p,"/chapter?limit=100&offset=").concat(l,"&publishAtSince=").concat(v,"&order[publishAt]=desc"),method:"GET"}),e.next=17,this.requestManager.schedule(b,1);case 17:if(204!=(x=e.sent).status){e.next=20;break}return e.abrupt("return");case 20:if(j="string"===typeof x.data?JSON.parse(x.data):x.data,void 0!==(y=null!==(m=j.data)&&void 0!==m?m:j.results)){e.next=25;break}return console.log("Failed to parse JSON results for filterUpdatedManga using the date ".concat(v," and the offset ").concat(l)),e.abrupt("return");case 25:O=Object(A.a)(y);try{for(O.s();!(w=O.n()).done;)S=w.value,M=null===(k=S.relationships.filter((function(e){return"manga"==e.type}))[0])||void 0===k?void 0:k.id,r.includes(M)&&!g.includes(M)?(f.push(M),g.push(M)):r.includes(i[M])&&(f.push(i[M]),g.push(M))}catch(n){O.e(n)}finally{O.f()}l+=100,(j.total<=l||l>=100*d)&&(h=!1),f.length>0&&t(createMangaUpdates({ids:f})),f=[],e.next=13;break;case 33:t(createMangaUpdates({ids:[]}));case 34:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"decodeHTMLEntity",value:function(e){return e}}]),a}(l.Source)},45:function(e,t,a){"use strict";a.r(t),a.d(t,"ML_DOMAIN",(function(){return d})),a.d(t,"MangaLifeInfo",(function(){return f})),a.d(t,"MangaLife",(function(){return g}));var r=a(2),n=a.n(r),A=a(3),c=a(6),i=a(9),s=a(8),o=a(7),u=a(5),l=a(24),d="https://manga4life.com",p={"content-type":"application/x-www-form-urlencoded"},h="GET",f={version:"2.1.8",name:"Manga4Life",icon:"icon.png",author:"Daniel Kovalevich",authorWebsite:"https://github.com/DanielKovalevich",description:"Extension that pulls manga from MangaLife, includes Advanced Search and Updated manga fetching",hentaiSource:!1,websiteBaseURL:d,sourceTags:[{text:"Notifications",type:u.TagType.GREEN},{text:"Cloudflare",type:u.TagType.RED}]},g=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(d,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(d,"/manga/"),method:h,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,A=this.cheerio.load(r.data),e.abrupt("return",Object(l.parseMangaDetails)(A,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(d,"/manga/"),method:h,headers:p,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,A=this.cheerio.load(r.data),e.abrupt("return",Object(l.parseChapters)(A,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(d,"/read-online/"),headers:p,method:h,param:a}),e.next=3,this.requestManager.schedule(r,1);case 3:return A=e.sent,e.abrupt("return",Object(l.parseChapterDetails)(A.data,t,a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a,r){var A,c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=createRequestObject({url:"".concat(d,"/"),headers:p,method:h}),e.next=3,this.requestManager.schedule(A,1);case 3:c=e.sent,i=Object(l.parseUpdatedManga)(c,a,r),t(createMangaUpdates(i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.searchMetadata)(t),A=createRequestObject({url:"".concat(d,"/directory/"),metadata:r,headers:p,method:h}),e.next=4,this.requestManager.schedule(A,1);case 4:return c=e.sent,e.abrupt("return",Object(l.parseSearch)(c.data,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(A.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(d,"/search/"),method:h,headers:p}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,e.abrupt("return",Object(l.parseTags)(a.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(n.a.mark((function e(t){var a,r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(d),method:h}),e.next=3,this.requestManager.schedule(a,1);case 3:r=e.sent,A=this.cheerio.load(r.data),Object(l.parseHomeSections)(A,r.data,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(n.a.mark((function e(t,a){var r,A;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:d,method:h}),e.next=3,this.requestManager.schedule(r,1);case 3:return A=e.sent,e.abrupt("return",Object(l.parseViewMore)(A.data,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"globalRequestHeaders",value:function(){var e=Object(A.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{referer:d});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCloudflareBypassRequest",value:function(){return createRequestObject({url:"".concat(d),method:"GET"})}}]),a}(u.Source)}},[[241,1,2]]]);